<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="http://github.com/digitalbazaar/jsonld.js"

    >jsonld (v0.4.11)</a>
</h1>
<h4>A JSON-LD Processor and API implementation in JavaScript.</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonld">module jsonld</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.jsonld">
            function <span class="apidocSignatureSpan"></span>jsonld
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.ActiveContextCache">
            function <span class="apidocSignatureSpan">jsonld.</span>ActiveContextCache
            <span class="apidocSignatureSpan">(size)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.DocumentCache">
            function <span class="apidocSignatureSpan">jsonld.</span>DocumentCache
            <span class="apidocSignatureSpan">(size)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.IdentifierIssuer">
            function <span class="apidocSignatureSpan">jsonld.</span>IdentifierIssuer
            <span class="apidocSignatureSpan">(prefix)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.JsonLdProcessor">
            function <span class="apidocSignatureSpan">jsonld.</span>JsonLdProcessor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.Promise">
            function <span class="apidocSignatureSpan">jsonld.</span>Promise
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.RequestQueue">
            function <span class="apidocSignatureSpan">jsonld.</span>RequestQueue
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.UniqueNamer">
            function <span class="apidocSignatureSpan">jsonld.</span>UniqueNamer
            <span class="apidocSignatureSpan">(prefix)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.addValue">
            function <span class="apidocSignatureSpan">jsonld.</span>addValue
            <span class="apidocSignatureSpan">(subject, property, value, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.compact">
            function <span class="apidocSignatureSpan">jsonld.</span>compact
            <span class="apidocSignatureSpan">(input, ctx, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.compareValues">
            function <span class="apidocSignatureSpan">jsonld.</span>compareValues
            <span class="apidocSignatureSpan">(v1, v2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.createNodeMap">
            function <span class="apidocSignatureSpan">jsonld.</span>createNodeMap
            <span class="apidocSignatureSpan">(input, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.documentLoader">
            function <span class="apidocSignatureSpan">jsonld.</span>documentLoader
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.expand">
            function <span class="apidocSignatureSpan">jsonld.</span>expand
            <span class="apidocSignatureSpan">(input, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.flatten">
            function <span class="apidocSignatureSpan">jsonld.</span>flatten
            <span class="apidocSignatureSpan">(input, ctx, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.frame">
            function <span class="apidocSignatureSpan">jsonld.</span>frame
            <span class="apidocSignatureSpan">(input, frame, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.fromRDF">
            function <span class="apidocSignatureSpan">jsonld.</span>fromRDF
            <span class="apidocSignatureSpan">(dataset, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.getContextValue">
            function <span class="apidocSignatureSpan">jsonld.</span>getContextValue
            <span class="apidocSignatureSpan">(ctx, key, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.getValues">
            function <span class="apidocSignatureSpan">jsonld.</span>getValues
            <span class="apidocSignatureSpan">(subject, property)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.hasProperty">
            function <span class="apidocSignatureSpan">jsonld.</span>hasProperty
            <span class="apidocSignatureSpan">(subject, property)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.hasValue">
            function <span class="apidocSignatureSpan">jsonld.</span>hasValue
            <span class="apidocSignatureSpan">(subject, property, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.link">
            function <span class="apidocSignatureSpan">jsonld.</span>link
            <span class="apidocSignatureSpan">(input, ctx, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.loadDocument">
            function <span class="apidocSignatureSpan">jsonld.</span>loadDocument
            <span class="apidocSignatureSpan">(url, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.merge">
            function <span class="apidocSignatureSpan">jsonld.</span>merge
            <span class="apidocSignatureSpan">(docs, ctx, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.nextTick">
            function <span class="apidocSignatureSpan">jsonld.</span>nextTick
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.normalize">
            function <span class="apidocSignatureSpan">jsonld.</span>normalize
            <span class="apidocSignatureSpan">(input, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.objectify">
            function <span class="apidocSignatureSpan">jsonld.</span>objectify
            <span class="apidocSignatureSpan">(input, ctx, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.parseLinkHeader">
            function <span class="apidocSignatureSpan">jsonld.</span>parseLinkHeader
            <span class="apidocSignatureSpan">(header)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.prependBase">
            function <span class="apidocSignatureSpan">jsonld.</span>prependBase
            <span class="apidocSignatureSpan">(base, iri)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.processContext">
            function <span class="apidocSignatureSpan">jsonld.</span>processContext
            <span class="apidocSignatureSpan">(activeCtx, localCtx)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.promises">
            function <span class="apidocSignatureSpan">jsonld.</span>promises
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.promisify">
            function <span class="apidocSignatureSpan">jsonld.</span>promisify
            <span class="apidocSignatureSpan">(op)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.registerRDFParser">
            function <span class="apidocSignatureSpan">jsonld.</span>registerRDFParser
            <span class="apidocSignatureSpan">(contentType, parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.relabelBlankNodes">
            function <span class="apidocSignatureSpan">jsonld.</span>relabelBlankNodes
            <span class="apidocSignatureSpan">(input, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.removeProperty">
            function <span class="apidocSignatureSpan">jsonld.</span>removeProperty
            <span class="apidocSignatureSpan">(subject, property)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.removeValue">
            function <span class="apidocSignatureSpan">jsonld.</span>removeValue
            <span class="apidocSignatureSpan">(subject, property, value, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.setImmediate">
            function <span class="apidocSignatureSpan">jsonld.</span>setImmediate
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.toRDF">
            function <span class="apidocSignatureSpan">jsonld.</span>toRDF
            <span class="apidocSignatureSpan">(input, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.unregisterRDFParser">
            function <span class="apidocSignatureSpan">jsonld.</span>unregisterRDFParser
            <span class="apidocSignatureSpan">(contentType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.use">
            function <span class="apidocSignatureSpan">jsonld.</span>use
            <span class="apidocSignatureSpan">(extension)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.useDocumentLoader">
            function <span class="apidocSignatureSpan">jsonld.</span>useDocumentLoader
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonld.</span>ActiveContextCache.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonld.</span>DocumentCache.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonld.</span>IdentifierIssuer.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonld.</span>JsonLdProcessor.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonld.</span>RequestQueue.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonld.</span>cache</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonld.</span>documentLoaders</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonld.</span>url</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">jsonld.</span>version</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonld.ActiveContextCache">module jsonld.ActiveContextCache</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.ActiveContextCache.ActiveContextCache">
            function <span class="apidocSignatureSpan">jsonld.</span>ActiveContextCache
            <span class="apidocSignatureSpan">(size)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonld.ActiveContextCache.prototype">module jsonld.ActiveContextCache.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.ActiveContextCache.prototype.get">
            function <span class="apidocSignatureSpan">jsonld.ActiveContextCache.prototype.</span>get
            <span class="apidocSignatureSpan">(activeCtx, localCtx)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.ActiveContextCache.prototype.set">
            function <span class="apidocSignatureSpan">jsonld.ActiveContextCache.prototype.</span>set
            <span class="apidocSignatureSpan">( activeCtx, localCtx, result)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonld.DocumentCache">module jsonld.DocumentCache</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.DocumentCache.DocumentCache">
            function <span class="apidocSignatureSpan">jsonld.</span>DocumentCache
            <span class="apidocSignatureSpan">(size)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonld.DocumentCache.prototype">module jsonld.DocumentCache.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.DocumentCache.prototype.get">
            function <span class="apidocSignatureSpan">jsonld.DocumentCache.prototype.</span>get
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.DocumentCache.prototype.set">
            function <span class="apidocSignatureSpan">jsonld.DocumentCache.prototype.</span>set
            <span class="apidocSignatureSpan">(url, ctx)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonld.IdentifierIssuer">module jsonld.IdentifierIssuer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.IdentifierIssuer.IdentifierIssuer">
            function <span class="apidocSignatureSpan">jsonld.</span>IdentifierIssuer
            <span class="apidocSignatureSpan">(prefix)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonld.IdentifierIssuer.prototype">module jsonld.IdentifierIssuer.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.IdentifierIssuer.prototype.clone">
            function <span class="apidocSignatureSpan">jsonld.IdentifierIssuer.prototype.</span>clone
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.IdentifierIssuer.prototype.getId">
            function <span class="apidocSignatureSpan">jsonld.IdentifierIssuer.prototype.</span>getId
            <span class="apidocSignatureSpan">(old)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.IdentifierIssuer.prototype.hasId">
            function <span class="apidocSignatureSpan">jsonld.IdentifierIssuer.prototype.</span>hasId
            <span class="apidocSignatureSpan">(old)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.IdentifierIssuer.prototype.isNamed">
            function <span class="apidocSignatureSpan">jsonld.IdentifierIssuer.prototype.</span>isNamed
            <span class="apidocSignatureSpan">(old)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonld.JsonLdProcessor">module jsonld.JsonLdProcessor</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.JsonLdProcessor.JsonLdProcessor">
            function <span class="apidocSignatureSpan">jsonld.</span>JsonLdProcessor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonld.JsonLdProcessor.prototype">module jsonld.JsonLdProcessor.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.JsonLdProcessor.prototype.compact">
            function <span class="apidocSignatureSpan">jsonld.JsonLdProcessor.prototype.</span>compact
            <span class="apidocSignatureSpan">(input, ctx)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.JsonLdProcessor.prototype.expand">
            function <span class="apidocSignatureSpan">jsonld.JsonLdProcessor.prototype.</span>expand
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.JsonLdProcessor.prototype.flatten">
            function <span class="apidocSignatureSpan">jsonld.JsonLdProcessor.prototype.</span>flatten
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.JsonLdProcessor.prototype.frame">
            function <span class="apidocSignatureSpan">jsonld.JsonLdProcessor.prototype.</span>frame
            <span class="apidocSignatureSpan">(input, frame)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.JsonLdProcessor.prototype.fromRDF">
            function <span class="apidocSignatureSpan">jsonld.JsonLdProcessor.prototype.</span>fromRDF
            <span class="apidocSignatureSpan">(dataset)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.JsonLdProcessor.prototype.normalize">
            function <span class="apidocSignatureSpan">jsonld.JsonLdProcessor.prototype.</span>normalize
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.JsonLdProcessor.prototype.toRDF">
            function <span class="apidocSignatureSpan">jsonld.JsonLdProcessor.prototype.</span>toRDF
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.JsonLdProcessor.prototype.toString">
            function <span class="apidocSignatureSpan">jsonld.JsonLdProcessor.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonld.RequestQueue">module jsonld.RequestQueue</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.RequestQueue.RequestQueue">
            function <span class="apidocSignatureSpan">jsonld.</span>RequestQueue
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonld.RequestQueue.prototype">module jsonld.RequestQueue.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.RequestQueue.prototype.add">
            function <span class="apidocSignatureSpan">jsonld.RequestQueue.prototype.</span>add
            <span class="apidocSignatureSpan">(url, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.RequestQueue.prototype.wrapLoader">
            function <span class="apidocSignatureSpan">jsonld.RequestQueue.prototype.</span>wrapLoader
            <span class="apidocSignatureSpan">(loader)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonld.documentLoaders">module jsonld.documentLoaders</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.documentLoaders.jquery">
            function <span class="apidocSignatureSpan">jsonld.documentLoaders.</span>jquery
            <span class="apidocSignatureSpan">($, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.documentLoaders.node">
            function <span class="apidocSignatureSpan">jsonld.documentLoaders.</span>node
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.documentLoaders.xhr">
            function <span class="apidocSignatureSpan">jsonld.documentLoaders.</span>xhr
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonld.promises">module jsonld.promises</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.promises.promises">
            function <span class="apidocSignatureSpan">jsonld.</span>promises
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.promises.compact">
            function <span class="apidocSignatureSpan">jsonld.promises.</span>compact
            <span class="apidocSignatureSpan">(input, ctx)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.promises.createNodeMap">
            function <span class="apidocSignatureSpan">jsonld.promises.</span>createNodeMap
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.promises.expand">
            function <span class="apidocSignatureSpan">jsonld.promises.</span>expand
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.promises.flatten">
            function <span class="apidocSignatureSpan">jsonld.promises.</span>flatten
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.promises.frame">
            function <span class="apidocSignatureSpan">jsonld.promises.</span>frame
            <span class="apidocSignatureSpan">(input, frame)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.promises.fromRDF">
            function <span class="apidocSignatureSpan">jsonld.promises.</span>fromRDF
            <span class="apidocSignatureSpan">(dataset)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.promises.link">
            function <span class="apidocSignatureSpan">jsonld.promises.</span>link
            <span class="apidocSignatureSpan">(input, ctx)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.promises.merge">
            function <span class="apidocSignatureSpan">jsonld.promises.</span>merge
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.promises.normalize">
            function <span class="apidocSignatureSpan">jsonld.promises.</span>normalize
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.promises.objectify">
            function <span class="apidocSignatureSpan">jsonld.promises.</span>objectify
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.promises.toRDF">
            function <span class="apidocSignatureSpan">jsonld.promises.</span>toRDF
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonld.url">module jsonld.url</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonld.url.parse">
            function <span class="apidocSignatureSpan">jsonld.url.</span>parse
            <span class="apidocSignatureSpan">(str, parser)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonld.url.</span>parsers</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonld" id="apidoc.module.jsonld">module jsonld</a></h1>


    <h2>
        <a href="#apidoc.element.jsonld.jsonld" id="apidoc.element.jsonld.jsonld">
        function <span class="apidocSignatureSpan"></span>jsonld
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">jsonld = function () {
  return wrapper(function() {
    return factory();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.ActiveContextCache" id="apidoc.element.jsonld.ActiveContextCache">
        function <span class="apidocSignatureSpan">jsonld.</span>ActiveContextCache
        <span class="apidocSignatureSpan">(size)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ActiveContextCache = function (size) {
  this.order = [];
  this.cache = {};
  this.size = size || 100;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.DocumentCache" id="apidoc.element.jsonld.DocumentCache">
        function <span class="apidocSignatureSpan">jsonld.</span>DocumentCache
        <span class="apidocSignatureSpan">(size)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">DocumentCache = function (size) {
  this.order = [];
  this.cache = {};
  this.size = size || 50;
  this.expires = 30 * 1000;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.IdentifierIssuer" id="apidoc.element.jsonld.IdentifierIssuer">
        function <span class="apidocSignatureSpan">jsonld.</span>IdentifierIssuer
        <span class="apidocSignatureSpan">(prefix)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function IdentifierIssuer(prefix) {
  this.prefix = prefix;
  this.counter = 0;
  this.existing = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.JsonLdProcessor" id="apidoc.element.jsonld.JsonLdProcessor">
        function <span class="apidocSignatureSpan">jsonld.</span>JsonLdProcessor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function JsonLdProcessor() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.Promise" id="apidoc.element.jsonld.Promise">
        function <span class="apidocSignatureSpan">jsonld.</span>Promise
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Promise() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.RequestQueue" id="apidoc.element.jsonld.RequestQueue">
        function <span class="apidocSignatureSpan">jsonld.</span>RequestQueue
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">RequestQueue = function () {
  this._requests = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.UniqueNamer" id="apidoc.element.jsonld.UniqueNamer">
        function <span class="apidocSignatureSpan">jsonld.</span>UniqueNamer
        <span class="apidocSignatureSpan">(prefix)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function IdentifierIssuer(prefix) {
  this.prefix = prefix;
  this.counter = 0;
  this.existing = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.addValue" id="apidoc.element.jsonld.addValue">
        function <span class="apidocSignatureSpan">jsonld.</span>addValue
        <span class="apidocSignatureSpan">(subject, property, value, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addValue = function (subject, property, value, options) {
  options = options || {};
  if(!(&#x27;propertyIsArray&#x27; in options)) {
    options.propertyIsArray = false;
  }
  if(!(&#x27;allowDuplicate&#x27; in options)) {
    options.allowDuplicate = true;
  }

  if(_isArray(value)) {
    if(value.length === 0 &#x26;&#x26; options.propertyIsArray &#x26;&#x26;
      !(property in subject)) {
      subject[property] = [];
    }
    for(var i = 0; i &#x3c; value.length; ++i) {
      jsonld.addValue(subject, property, value[i], options);
    }
  } else if(property in subject) {
    // check if subject already has value if duplicates not allowed
    var hasValue = (!options.allowDuplicate &#x26;&#x26;
      jsonld.hasValue(subject, property, value));

    // make property an array if value not present or always an array
    if(!_isArray(subject[property]) &#x26;&#x26;
      (!hasValue || options.propertyIsArray)) {
      subject[property] = [subject[property]];
    }

    // add new value
    if(!hasValue) {
      subject[property].push(value);
    }
  } else {
    // add new value as set or single value
    subject[property] = options.propertyIsArray ? [value] : value;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.compact" id="apidoc.element.jsonld.compact">
        function <span class="apidocSignatureSpan">jsonld.</span>compact
        <span class="apidocSignatureSpan">(input, ctx, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">compact = function (input, ctx, options, callback) {
  if(arguments.length &#x3c; 2) {
    return jsonld.nextTick(function() {
      callback(new TypeError(&#x27;Could not compact, too few arguments.&#x27;));
    });
  }

  // get arguments
  if(typeof options === &#x27;function&#x27;) {
    callback = options;
    options = {};
  }
  options = options || {};

  if(ctx === null) {
    return jsonld.nextTick(function() {
      callback(new JsonLdError(
        &#x27;The compaction context must not be null.&#x27;,
        &#x27;jsonld.CompactError&#x27;, {code: &#x27;invalid local context&#x27;}));
    });
  }

  // nothing to compact
  if(input === null) {
    return jsonld.nextTick(function() {
      callback(null, null);
    });
  }

  // set default options
  if(!(&#x27;base&#x27; in options)) {
    options.base = (typeof input === &#x27;string&#x27;) ? input : &#x27;&#x27;;
  }
  if(!(&#x27;compactArrays&#x27; in options)) {
    options.compactArrays = true;
  }
  if(!(&#x27;graph&#x27; in options)) {
    options.graph = false;
  }
  if(!(&#x27;skipExpansion&#x27; in options)) {
    options.skipExpansion = false;
  }
  if(!(&#x27;documentLoader&#x27; in options)) {
    options.documentLoader = jsonld.loadDocument;
  }
  if(!(&#x27;link&#x27; in options)) {
    options.link = false;
  }
  if(options.link) {
    // force skip expansion when linking, &#x22;link&#x22; is not part of the public
    // API, it should only be called from framing
    options.skipExpansion = true;
  }

  var expand = function(input, options, callback) {
    if(options.skipExpansion) {
      return jsonld.nextTick(function() {
        callback(null, input);
      });
    }
    jsonld.expand(input, options, callback);
  };

  // expand input then do compaction
  expand(input, options, function(err, expanded) {
    if(err) {
      return callback(new JsonLdError(
        &#x27;Could not expand input before compaction.&#x27;,
        &#x27;jsonld.CompactError&#x27;, {cause: err}));
    }

    // process context
    var activeCtx = _getInitialContext(options);
    jsonld.processContext(activeCtx, ctx, options, function(err, activeCtx) {
      if(err) {
        return callback(new JsonLdError(
          &#x27;Could not process context before compaction.&#x27;,
          &#x27;jsonld.CompactError&#x27;, {cause: err}));
      }

      var compacted;
      try {
        // do compaction
        compacted = new Processor().compact(activeCtx, null, expanded, options);
      } catch(ex) {
        return callback(ex);
      }

      cleanup(null, compacted, activeCtx, options);
    });
  });

  // performs clean up after compaction
  function cleanup(err, compacted, activeCtx, options) {
    if(err) {
      return callback(err);
    }

    if(options.compactArrays &#x26;&#x26; !options.graph &#x26;&#x26; _isArray(compacted)) {
      if(compacted.length === 1) {
        // simplify to a single item
        compacted = compacted[0];
      } else if(compacted.length === 0) {
        // simplify to an empty object
        compacted = {};
      }
    } else if(options.graph &#x26;&#x26; _isObject(compacted)) {
      // always use array if graph option is on
      compacted = [compacted];
    }

    // follow @context key
    if(_isObject(ctx) &#x26;&#x26; &#x27;@context&#x27; in ctx) {
      ctx = ctx[&#x27;@context&#x27;];
    }

    // build output context
    ctx = _clone(ctx);
    if(!_isArray(ctx)) {
      ctx = [ctx];
    }
    // remove empty contexts
    var tmp = ctx;
    ctx = [];
    for(var i = 0; i &#x3c; tmp.length; ++i) {
      if(!_isObject(tmp[i]) || Object.keys(tmp[i]).length &#x3e; 0) {
        ctx.push(tmp[i]);
      }
    }

    // remove array if only one context
    var hasContext = (ctx.length &#x3e; 0);
    if(ctx.length === 1) {
      ctx = ctx[0];
    }

    // add context and/or @graph
    if(_isArray(compacted)) {
      // use &#x27;@graph&#x27; keyword
      var kwgraph = _compactIri(activeCtx, &#x27;@graph&#x27;);
      var graph = compacted;
      compacted = {};
      if(hasContext) {
        compacted[&#x27;@context&#x27;] = ctx;
      }
      compacted[kwgraph] = graph;
    } else if(_isObject(compacted) &#x26;&#x26; hasContext) {
      // reorder keys so @context is first
      var graph = compacted;
      compacted = {&#x27;@context&#x27;: ctx};
      for(var key in graph) {
        compacted[key] = graph[key];
      }
    }

    callback ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
&#x22;name&#x22;: &#x22;http://schema.org/name&#x22;,
&#x22;homepage&#x22;: {&#x22;@id&#x22;: &#x22;http://schema.org/url&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22;},
&#x22;image&#x22;: {&#x22;@id&#x22;: &#x22;http://schema.org/image&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22;}
};

// compact a document according to a particular context
// see: http://json-ld.org/spec/latest/json-ld/#compacted-document-form
jsonld.<span class="apidocCodeKeywordSpan">compact</span>(doc, context, function(err, compacted) {
console.log(JSON.stringify(compacted, null, 2));
/* Output:
{
  &#x22;@context&#x22;: {...},
  &#x22;name&#x22;: &#x22;Manu Sporny&#x22;,
  &#x22;homepage&#x22;: &#x22;http://manu.sporny.org/&#x22;,
  &#x22;image&#x22;: &#x22;http://manu.sporny.org/images/manu.png&#x22;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.compareValues" id="apidoc.element.jsonld.compareValues">
        function <span class="apidocSignatureSpan">jsonld.</span>compareValues
        <span class="apidocSignatureSpan">(v1, v2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">compareValues = function (v1, v2) {
  // 1. equal primitives
  if(v1 === v2) {
    return true;
  }

  // 2. equal @values
  if(_isValue(v1) &#x26;&#x26; _isValue(v2) &#x26;&#x26;
    v1[&#x27;@value&#x27;] === v2[&#x27;@value&#x27;] &#x26;&#x26;
    v1[&#x27;@type&#x27;] === v2[&#x27;@type&#x27;] &#x26;&#x26;
    v1[&#x27;@language&#x27;] === v2[&#x27;@language&#x27;] &#x26;&#x26;
    v1[&#x27;@index&#x27;] === v2[&#x27;@index&#x27;]) {
    return true;
  }

  // 3. equal @ids
  if(_isObject(v1) &#x26;&#x26; (&#x27;@id&#x27; in v1) &#x26;&#x26; _isObject(v2) &#x26;&#x26; (&#x27;@id&#x27; in v2)) {
    return v1[&#x27;@id&#x27;] === v2[&#x27;@id&#x27;];
  }

  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.createNodeMap" id="apidoc.element.jsonld.createNodeMap">
        function <span class="apidocSignatureSpan">jsonld.</span>createNodeMap
        <span class="apidocSignatureSpan">(input, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createNodeMap = function (input, options, callback) {
  if(arguments.length &#x3c; 1) {
    return jsonld.nextTick(function() {
      callback(new TypeError(&#x27;Could not create node map, too few arguments.&#x27;));
    });
  }

  // get arguments
  if(typeof options === &#x27;function&#x27;) {
    callback = options;
    options = {};
  }
  options = options || {};

  // set default options
  if(!(&#x27;base&#x27; in options)) {
    options.base = (typeof input === &#x27;string&#x27;) ? input : &#x27;&#x27;;
  }
  if(!(&#x27;documentLoader&#x27; in options)) {
    options.documentLoader = jsonld.loadDocument;
  }

  // expand input
  jsonld.expand(input, options, function(err, _input) {
    if(err) {
      return callback(new JsonLdError(
        &#x27;Could not expand input before creating node map.&#x27;,
        &#x27;jsonld.CreateNodeMapError&#x27;, {cause: err}));
    }

    var nodeMap;
    try {
      nodeMap = new Processor().createNodeMap(_input, options);
    } catch(ex) {
      return callback(ex);
    }

    callback(null, nodeMap);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.documentLoader" id="apidoc.element.jsonld.documentLoader">
        function <span class="apidocSignatureSpan">jsonld.</span>documentLoader
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">documentLoader = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.expand" id="apidoc.element.jsonld.expand">
        function <span class="apidocSignatureSpan">jsonld.</span>expand
        <span class="apidocSignatureSpan">(input, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">expand = function (input, options, callback) {
  if(arguments.length &#x3c; 1) {
    return jsonld.nextTick(function() {
      callback(new TypeError(&#x27;Could not expand, too few arguments.&#x27;));
    });
  }

  // get arguments
  if(typeof options === &#x27;function&#x27;) {
    callback = options;
    options = {};
  }
  options = options || {};

  // set default options
  if(!(&#x27;documentLoader&#x27; in options)) {
    options.documentLoader = jsonld.loadDocument;
  }
  if(!(&#x27;keepFreeFloatingNodes&#x27; in options)) {
    options.keepFreeFloatingNodes = false;
  }

  jsonld.nextTick(function() {
    // if input is a string, attempt to dereference remote document
    if(typeof input === &#x27;string&#x27;) {
      var done = function(err, remoteDoc) {
        if(err) {
          return callback(err);
        }
        try {
          if(!remoteDoc.document) {
            throw new JsonLdError(
              &#x27;No remote document found at the given URL.&#x27;,
              &#x27;jsonld.NullRemoteDocument&#x27;);
          }
          if(typeof remoteDoc.document === &#x27;string&#x27;) {
            remoteDoc.document = JSON.parse(remoteDoc.document);
          }
        } catch(ex) {
          return callback(new JsonLdError(
            &#x27;Could not retrieve a JSON-LD document from the URL. URL &#x27; +
            &#x27;dereferencing not implemented.&#x27;, &#x27;jsonld.LoadDocumentError&#x27;, {
              code: &#x27;loading document failed&#x27;,
              cause: ex,
              remoteDoc: remoteDoc
          }));
        }
        expand(remoteDoc);
      };
      var promise = options.documentLoader(input, done);
      if(promise &#x26;&#x26; &#x27;then&#x27; in promise) {
        promise.then(done.bind(null, null), done);
      }
      return;
    }
    // nothing to load
    expand({contextUrl: null, documentUrl: null, document: input});
  });

  function expand(remoteDoc) {
    // set default base
    if(!(&#x27;base&#x27; in options)) {
      options.base = remoteDoc.documentUrl || &#x27;&#x27;;
    }
    // build meta-object and retrieve all @context URLs
    var input = {
      document: _clone(remoteDoc.document),
      remoteContext: {&#x27;@context&#x27;: remoteDoc.contextUrl}
    };
    if(&#x27;expandContext&#x27; in options) {
      var expandContext = _clone(options.expandContext);
      if(typeof expandContext === &#x27;object&#x27; &#x26;&#x26; &#x27;@context&#x27; in expandContext) {
        input.expandContext = expandContext;
      } else {
        input.expandContext = {&#x27;@context&#x27;: expandContext};
      }
    }
    _retrieveContextUrls(input, options, function(err, input) {
      if(err) {
        return callback(err);
      }

      var expanded;
      try {
        var processor = new Processor();
        var activeCtx = _getInitialContext(options);
        var document = input.document;
        var remoteContext = input.remoteContext[&#x27;@context&#x27;];

        // process optional expandContext
        if(input.expandContext) {
          activeCtx = processor.processContext(
            activeCtx, input.expandContext[&#x27;@context&#x27;], options);
        }

        // process remote context from HTTP Link Header
        if(remoteContext) {
          activeCtx = processor.processContext(
            activeCtx, remoteContext, options);
        }

        // expand document
        expanded = processor.expand(
          activeCtx, null, document, options, false);

        // optimize away @graph with no other properties
        if(_isObject(expanded) &#x26;&#x26; (&#x27;@graph&#x27; in expanded) &#x26;&#x26;
          Object.keys(expanded).length === 1) {
          expanded = expanded[&#x27;@graph&#x27;];
        } else if(expanded === null) {
          expanded = [];
        }

        // normalize to an array
        if(!_isArray(expanded)) {
          expanded = [expanded];
        }
      } catch(ex) {
        return callback(ex);
      }
      callback(null, expanded);
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

// compact using URLs
jsonld.compact(&#x27;http://example.org/doc&#x27;, &#x27;http://example.org/context&#x27;, ...);

// expand a document, removing its context
// see: http://json-ld.org/spec/latest/json-ld/#expanded-document-form
jsonld.<span class="apidocCodeKeywordSpan">expand</span>(compacted, function(err, expanded) {
/* Output:
{
  &#x22;http://schema.org/name&#x22;: [{&#x22;@value&#x22;: &#x22;Manu Sporny&#x22;}],
  &#x22;http://schema.org/url&#x22;: [{&#x22;@id&#x22;: &#x22;http://manu.sporny.org/&#x22;}],
  &#x22;http://schema.org/image&#x22;: [{&#x22;@id&#x22;: &#x22;http://manu.sporny.org/images/manu.png&#x22;}]
}
*/
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.flatten" id="apidoc.element.jsonld.flatten">
        function <span class="apidocSignatureSpan">jsonld.</span>flatten
        <span class="apidocSignatureSpan">(input, ctx, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">flatten = function (input, ctx, options, callback) {
  if(arguments.length &#x3c; 1) {
    return jsonld.nextTick(function() {
      callback(new TypeError(&#x27;Could not flatten, too few arguments.&#x27;));
    });
  }

  // get arguments
  if(typeof options === &#x27;function&#x27;) {
    callback = options;
    options = {};
  } else if(typeof ctx === &#x27;function&#x27;) {
    callback = ctx;
    ctx = null;
    options = {};
  }
  options = options || {};

  // set default options
  if(!(&#x27;base&#x27; in options)) {
    options.base = (typeof input === &#x27;string&#x27;) ? input : &#x27;&#x27;;
  }
  if(!(&#x27;documentLoader&#x27; in options)) {
    options.documentLoader = jsonld.loadDocument;
  }

  // expand input
  jsonld.expand(input, options, function(err, _input) {
    if(err) {
      return callback(new JsonLdError(
        &#x27;Could not expand input before flattening.&#x27;,
        &#x27;jsonld.FlattenError&#x27;, {cause: err}));
    }

    var flattened;
    try {
      // do flattening
      flattened = new Processor().flatten(_input);
    } catch(ex) {
      return callback(ex);
    }

    if(ctx === null) {
      return callback(null, flattened);
    }

    // compact result (force @graph option to true, skip expansion)
    options.graph = true;
    options.skipExpansion = true;
    jsonld.compact(flattened, ctx, options, function(err, compacted) {
      if(err) {
        return callback(new JsonLdError(
          &#x27;Could not compact flattened output.&#x27;,
          &#x27;jsonld.FlattenError&#x27;, {cause: err}));
      }
      callback(null, compacted);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

// expand using URLs
jsonld.expand(&#x27;http://example.org/doc&#x27;, ...);

// flatten a document
// see: http://json-ld.org/spec/latest/json-ld/#flattened-document-form
jsonld.<span class="apidocCodeKeywordSpan">flatten</span>(doc, function(err, flattened) {
// all deep-level trees flattened to the top-level
});

// frame a document
// see: http://json-ld.org/spec/latest/json-ld-framing/#introduction
jsonld.frame(doc, frame, function(err, framed) {
// document transformed into a particular tree structure per the given frame
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.frame" id="apidoc.element.jsonld.frame">
        function <span class="apidocSignatureSpan">jsonld.</span>frame
        <span class="apidocSignatureSpan">(input, frame, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">frame = function (input, frame, options, callback) {
  if(arguments.length &#x3c; 2) {
    return jsonld.nextTick(function() {
      callback(new TypeError(&#x27;Could not frame, too few arguments.&#x27;));
    });
  }

  // get arguments
  if(typeof options === &#x27;function&#x27;) {
    callback = options;
    options = {};
  }
  options = options || {};

  // set default options
  if(!(&#x27;base&#x27; in options)) {
    options.base = (typeof input === &#x27;string&#x27;) ? input : &#x27;&#x27;;
  }
  if(!(&#x27;documentLoader&#x27; in options)) {
    options.documentLoader = jsonld.loadDocument;
  }
  if(!(&#x27;embed&#x27; in options)) {
    options.embed = &#x27;@last&#x27;;
  }
  options.explicit = options.explicit || false;
  if(!(&#x27;requireAll&#x27; in options)) {
    options.requireAll = true;
  }
  options.omitDefault = options.omitDefault || false;

  jsonld.nextTick(function() {
    // if frame is a string, attempt to dereference remote document
    if(typeof frame === &#x27;string&#x27;) {
      var done = function(err, remoteDoc) {
        if(err) {
          return callback(err);
        }
        try {
          if(!remoteDoc.document) {
            throw new JsonLdError(
              &#x27;No remote document found at the given URL.&#x27;,
              &#x27;jsonld.NullRemoteDocument&#x27;);
          }
          if(typeof remoteDoc.document === &#x27;string&#x27;) {
            remoteDoc.document = JSON.parse(remoteDoc.document);
          }
        } catch(ex) {
          return callback(new JsonLdError(
            &#x27;Could not retrieve a JSON-LD document from the URL. URL &#x27; +
            &#x27;dereferencing not implemented.&#x27;, &#x27;jsonld.LoadDocumentError&#x27;, {
              code: &#x27;loading document failed&#x27;,
              cause: ex,
              remoteDoc: remoteDoc
          }));
        }
        doFrame(remoteDoc);
      };
      var promise = options.documentLoader(frame, done);
      if(promise &#x26;&#x26; &#x27;then&#x27; in promise) {
        promise.then(done.bind(null, null), done);
      }
      return;
    }
    // nothing to load
    doFrame({contextUrl: null, documentUrl: null, document: frame});
  });

  function doFrame(remoteFrame) {
    // preserve frame context and add any Link header context
    var frame = remoteFrame.document;
    var ctx;
    if(frame) {
      ctx = frame[&#x27;@context&#x27;];
      if(remoteFrame.contextUrl) {
        if(!ctx) {
          ctx = remoteFrame.contextUrl;
        } else if(_isArray(ctx)) {
          ctx.push(remoteFrame.contextUrl);
        } else {
          ctx = [ctx, remoteFrame.contextUrl];
        }
        frame[&#x27;@context&#x27;] = ctx;
      } else {
        ctx = ctx || {};
      }
    } else {
      ctx = {};
    }

    // expand input
    jsonld.expand(input, options, function(err, expanded) {
      if(err) {
        return callback(new JsonLdError(
          &#x27;Could not expand input before framing.&#x27;,
          &#x27;jsonld.FrameError&#x27;, {cause: err}));
      }

      // expand frame
      var opts = _clone(options);
      opts.isFrame = true;
      opts.keepFreeFloatingNodes = true;
      jsonld.expand(frame, opts, function(err, expandedFrame) {
        if(err) {
          return callback(new JsonLdError(
            &#x27;Could not expand frame before framing.&#x27;,
            &#x27;jsonld.FrameError&#x27;, {cause: err}));
        }

        var framed;
        try {
          // do framing
          framed = new Processor().frame(expanded, expandedFrame, opts);
        } catch(ex) {
          return callback(ex);
        }

        // compact result (force @graph option to true, skip expansion,
        // check for linked embeds)
        opts.graph = true;
        opts.skipExpansion = true;
        opts.link = {};
        jsonld.compact(framed, ctx, opts, function(err, compacted, ctx) {
          if(err) {
            return callback(new JsonLdError(
              &#x27;Could not compact framed output.&#x27;,
              &#x27;jsonld.FrameError&#x27;, {cause: err}));
          }
          // get graph alias
          var graph = _compactIri(ctx, &#x27;@graph&#x27;);
          // remove @preserve from results
          opts.link = {};
          compacted[graph] = _removePreserve(ctx, compacted[graph], opts);
          callback(null, compacted);
        });
      }); ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// see: http://json-ld.org/spec/latest/json-ld/#flattened-document-form
jsonld.flatten(doc, function(err, flattened) {
// all deep-level trees flattened to the top-level
});

// frame a document
// see: http://json-ld.org/spec/latest/json-ld-framing/#introduction
jsonld.<span class="apidocCodeKeywordSpan">frame</span>(doc, frame, function(err, framed) {
// document transformed into a particular tree structure per the given frame
});

// normalize a document using the RDF Dataset Normalization Algorithm
// (URDNA2015), see: http://json-ld.github.io/normalization/spec/
jsonld.normalize(doc, {
algorithm: &#x27;URDNA2015&#x27;,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.fromRDF" id="apidoc.element.jsonld.fromRDF">
        function <span class="apidocSignatureSpan">jsonld.</span>fromRDF
        <span class="apidocSignatureSpan">(dataset, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromRDF = function (dataset, options, callback) {
  if(arguments.length &#x3c; 1) {
    return jsonld.nextTick(function() {
      callback(new TypeError(&#x27;Could not convert from RDF, too few arguments.&#x27;));
    });
  }

  // get arguments
  if(typeof options === &#x27;function&#x27;) {
    callback = options;
    options = {};
  }
  options = options || {};

  // set default options
  if(!(&#x27;useRdfType&#x27; in options)) {
    options.useRdfType = false;
  }
  if(!(&#x27;useNativeTypes&#x27; in options)) {
    options.useNativeTypes = false;
  }

  if(!(&#x27;format&#x27; in options) &#x26;&#x26; _isString(dataset)) {
    // set default format to nquads
    if(!(&#x27;format&#x27; in options)) {
      options.format = &#x27;application/nquads&#x27;;
    }
  }

  jsonld.nextTick(function() {
    // handle special format
    var rdfParser;
    if(options.format) {
      // check supported formats
      rdfParser = options.rdfParser || _rdfParsers[options.format];
      if(!rdfParser) {
        return callback(new JsonLdError(
          &#x27;Unknown input format.&#x27;,
          &#x27;jsonld.UnknownFormat&#x27;, {format: options.format}));
      }
    } else {
      // no-op parser, assume dataset already parsed
      rdfParser = function() {
        return dataset;
      };
    }

    var callbackCalled = false;
    try {
      // rdf parser may be async or sync, always pass callback
      dataset = rdfParser(dataset, function(err, dataset) {
        callbackCalled = true;
        if(err) {
          return callback(err);
        }
        fromRDF(dataset, options, callback);
      });
    } catch(e) {
      if(!callbackCalled) {
        return callback(e);
      }
      throw e;
    }
    // handle synchronous or promise-based parser
    if(dataset) {
      // if dataset is actually a promise
      if(&#x27;then&#x27; in dataset) {
        return dataset.then(function(dataset) {
          fromRDF(dataset, options, callback);
        }, callback);
      }
      // parser is synchronous
      fromRDF(dataset, options, callback);
    }

    function fromRDF(dataset, options, callback) {
      // convert from RDF
      new Processor().fromRDF(dataset, options, callback);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// serialize a document to N-Quads (RDF)
jsonld.toRDF(doc, {format: &#x27;application/nquads&#x27;}, function(err, nquads) {
// nquads is a string of nquads
});

// deserialize N-Quads (RDF) to JSON-LD
jsonld.<span class="apidocCodeKeywordSpan">fromRDF</span>(nquads, {format: &#x27;application/nquads&#x27;}, function(err, doc) {
// doc is JSON-LD
});

// register a custom async-callback-based RDF parser
jsonld.registerRDFParser = function(contentType, function(input, callback) {
// parse input to a jsonld.js RDF dataset object...
callback(err, dataset);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.getContextValue" id="apidoc.element.jsonld.getContextValue">
        function <span class="apidocSignatureSpan">jsonld.</span>getContextValue
        <span class="apidocSignatureSpan">(ctx, key, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getContextValue = function (ctx, key, type) {
  var rval = null;

  // return null for invalid key
  if(key === null) {
    return rval;
  }

  // get default language
  if(type === &#x27;@language&#x27; &#x26;&#x26; (type in ctx)) {
    rval = ctx[type];
  }

  // get specific entry information
  if(ctx.mappings[key]) {
    var entry = ctx.mappings[key];

    if(_isUndefined(type)) {
      // return whole entry
      rval = entry;
    } else if(type in entry) {
      // return entry value for type
      rval = entry[type];
    }
  }

  return rval;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.getValues" id="apidoc.element.jsonld.getValues">
        function <span class="apidocSignatureSpan">jsonld.</span>getValues
        <span class="apidocSignatureSpan">(subject, property)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getValues = function (subject, property) {
  var rval = subject[property] || [];
  if(!_isArray(rval)) {
    rval = [rval];
  }
  return rval;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.hasProperty" id="apidoc.element.jsonld.hasProperty">
        function <span class="apidocSignatureSpan">jsonld.</span>hasProperty
        <span class="apidocSignatureSpan">(subject, property)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasProperty = function (subject, property) {
  var rval = false;
  if(property in subject) {
    var value = subject[property];
    rval = (!_isArray(value) || value.length &#x3e; 0);
  }
  return rval;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.hasValue" id="apidoc.element.jsonld.hasValue">
        function <span class="apidocSignatureSpan">jsonld.</span>hasValue
        <span class="apidocSignatureSpan">(subject, property, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasValue = function (subject, property, value) {
  var rval = false;
  if(jsonld.hasProperty(subject, property)) {
    var val = subject[property];
    var isList = _isList(val);
    if(_isArray(val) || isList) {
      if(isList) {
        val = val[&#x27;@list&#x27;];
      }
      for(var i = 0; i &#x3c; val.length; ++i) {
        if(jsonld.compareValues(value, val[i])) {
          rval = true;
          break;
        }
      }
    } else if(!_isArray(value)) {
      // avoid matching the set of values with an array value parameter
      rval = jsonld.compareValues(value, val);
    }
  }
  return rval;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.link" id="apidoc.element.jsonld.link">
        function <span class="apidocSignatureSpan">jsonld.</span>link
        <span class="apidocSignatureSpan">(input, ctx, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">link = function (input, ctx, options, callback) {
  // API matches running frame with a wildcard frame and embed: &#x27;@link&#x27;
  // get arguments
  var frame = {};
  if(ctx) {
    frame[&#x27;@context&#x27;] = ctx;
  }
  frame[&#x27;@embed&#x27;] = &#x27;@link&#x27;;
  jsonld.frame(input, frame, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.loadDocument" id="apidoc.element.jsonld.loadDocument">
        function <span class="apidocSignatureSpan">jsonld.</span>loadDocument
        <span class="apidocSignatureSpan">(url, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">loadDocument = function (url, callback) {
  var promise = jsonld.documentLoader(url, callback);
  if(promise &#x26;&#x26; &#x27;then&#x27; in promise) {
    promise.then(callback.bind(null, null), callback);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.merge" id="apidoc.element.jsonld.merge">
        function <span class="apidocSignatureSpan">jsonld.</span>merge
        <span class="apidocSignatureSpan">(docs, ctx, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">merge = function (docs, ctx, options, callback) {
  if(arguments.length &#x3c; 1) {
    return jsonld.nextTick(function() {
      callback(new TypeError(&#x27;Could not merge, too few arguments.&#x27;));
    });
  }
  if(!_isArray(docs)) {
    return jsonld.nextTick(function() {
      callback(new TypeError(&#x27;Could not merge, &#x22;docs&#x22; must be an array.&#x27;));
    });
  }

  // get arguments
  if(typeof options === &#x27;function&#x27;) {
    callback = options;
    options = {};
  } else if(typeof ctx === &#x27;function&#x27;) {
    callback = ctx;
    ctx = null;
    options = {};
  }
  options = options || {};

  // expand all documents
  var expanded = [];
  var error = null;
  var count = docs.length;
  for(var i = 0; i &#x3c; docs.length; ++i) {
    var opts = {};
    for(var key in options) {
      opts[key] = options[key];
    }
    jsonld.expand(docs[i], opts, expandComplete);
  }

  function expandComplete(err, _input) {
    if(error) {
      return;
    }
    if(err) {
      error = err;
      return callback(new JsonLdError(
        &#x27;Could not expand input before flattening.&#x27;,
        &#x27;jsonld.FlattenError&#x27;, {cause: err}));
    }
    expanded.push(_input);
    if(--count === 0) {
      merge(expanded);
    }
  }

  function merge(expanded) {
    var mergeNodes = true;
    if(&#x27;mergeNodes&#x27; in options) {
      mergeNodes = options.mergeNodes;
    }

    var issuer = options.namer || options.issuer || new IdentifierIssuer(&#x27;_:b&#x27;);
    var graphs = {&#x27;@default&#x27;: {}};

    var defaultGraph;
    try {
      for(var i = 0; i &#x3c; expanded.length; ++i) {
        // uniquely relabel blank nodes
        var doc = expanded[i];
        doc = jsonld.relabelBlankNodes(doc, {
          issuer: new IdentifierIssuer(&#x27;_:b&#x27; + i + &#x27;-&#x27;)
        });

        // add nodes to the shared node map graphs if merging nodes, to a
        // separate graph set if not
        var _graphs = (mergeNodes || i === 0) ? graphs : {&#x27;@default&#x27;: {}};
        _createNodeMap(doc, _graphs, &#x27;@default&#x27;, issuer);

        if(_graphs !== graphs) {
          // merge document graphs but don&#x27;t merge existing nodes
          for(var graphName in _graphs) {
            var _nodeMap = _graphs[graphName];
            if(!(graphName in graphs)) {
              graphs[graphName] = _nodeMap;
              continue;
            }
            var nodeMap = graphs[graphName];
            for(var key in _nodeMap) {
              if(!(key in nodeMap)) {
                nodeMap[key] = _nodeMap[key];
              }
            }
          }
        }
      }

      // add all non-default graphs to default graph
      defaultGraph = _mergeNodeMaps(graphs);
    } catch(ex) {
      return callback(ex);
    }

    // produce flattened output
    var flattened = [];
    var keys = Object.keys(defaultGraph).sort();
    for(var ki = 0; ki &#x3c; keys.length; ++ki) {
      var node = defaultGraph[keys[ki]];
      // only add full subjects to top-level
      if(!_isSubjectReference(node)) {
        flattened.push(node);
      }
    }

    if(ctx === null) {
      return callback(null, flattened);
    }

    // compact result (force @graph option to true, skip expansion)
    options.graph = true;
    options.skipExpansion = true;
    jsonld.compact(flattened, ctx, options, function(err, compacted) {
      if(err) {
        return callback(new JsonLdError(
          &#x27;Could not compact merged output.&#x27;,
          &#x27;jsonld.MergeError&#x27;, {cause: err}));
      }
      callback(null, compacted);
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.nextTick" id="apidoc.element.jsonld.nextTick">
        function <span class="apidocSignatureSpan">jsonld.</span>nextTick
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function nextTick(callback) {
  if (typeof callback !== &#x27;function&#x27;)
    throw new TypeError(&#x27;callback is not a function&#x27;);
  // on the way out, don&#x27;t bother. it won&#x27;t get fired anyway.
  if (process._exiting)
    return;

  var args;
  if (arguments.length &#x3e; 1) {
    args = new Array(arguments.length - 1);
    for (var i = 1; i &#x3c; arguments.length; i++)
      args[i - 1] = arguments[i];
  }

  nextTickQueue.push({
    callback,
    domain: process.domain || null,
    args
  });
  tickInfo[kLength]++;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.normalize" id="apidoc.element.jsonld.normalize">
        function <span class="apidocSignatureSpan">jsonld.</span>normalize
        <span class="apidocSignatureSpan">(input, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">normalize = function (input, options, callback) {
  if(arguments.length &#x3c; 1) {
    return jsonld.nextTick(function() {
      callback(new TypeError(&#x27;Could not normalize, too few arguments.&#x27;));
    });
  }

  // get arguments
  if(typeof options === &#x27;function&#x27;) {
    callback = options;
    options = {};
  }
  options = options || {};

  // set default options
  if(!(&#x27;algorithm&#x27; in options)) {
    options.algorithm = &#x27;URGNA2012&#x27;;
  }
  if(!(&#x27;base&#x27; in options)) {
    options.base = (typeof input === &#x27;string&#x27;) ? input : &#x27;&#x27;;
  }
  if(!(&#x27;documentLoader&#x27; in options)) {
    options.documentLoader = jsonld.loadDocument;
  }

  if(&#x27;inputFormat&#x27; in options) {
    if(options.inputFormat !== &#x27;application/nquads&#x27;) {
      return callback(new JsonLdError(
        &#x27;Unknown normalization input format.&#x27;,
        &#x27;jsonld.NormalizeError&#x27;));
    }
    var parsedInput = _parseNQuads(input);
    // do normalization
    new Processor().normalize(parsedInput, options, callback);
  } else {
    // convert to RDF dataset then do normalization
    var opts = _clone(options);
    delete opts.format;
    opts.produceGeneralizedRdf = false;
    jsonld.toRDF(input, opts, function(err, dataset) {
      if(err) {
        return callback(new JsonLdError(
          &#x27;Could not convert input to RDF dataset before normalization.&#x27;,
          &#x27;jsonld.NormalizeError&#x27;, {cause: err}));
      }
      // do normalization
      new Processor().normalize(dataset, options, callback);
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// see: http://json-ld.org/spec/latest/json-ld-framing/#introduction
jsonld.frame(doc, frame, function(err, framed) {
  // document transformed into a particular tree structure per the given frame
});

// normalize a document using the RDF Dataset Normalization Algorithm
// (URDNA2015), see: http://json-ld.github.io/normalization/spec/
jsonld.<span class="apidocCodeKeywordSpan">normalize</span>(doc, {
  algorithm: &#x27;URDNA2015&#x27;,
  format: &#x27;application/nquads&#x27;
}, function(err, normalized) {
  // normalized is a string that is a canonical representation of the document
  // that can be used for hashing, comparison, etc.
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.objectify" id="apidoc.element.jsonld.objectify">
        function <span class="apidocSignatureSpan">jsonld.</span>objectify
        <span class="apidocSignatureSpan">(input, ctx, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">objectify = function (input, ctx, options, callback) {
  if(typeof options === &#x27;function&#x27;) {
    callback = options;
    options = {};
  }
  options = options || {};

  // set default options
  if(!(&#x27;base&#x27; in options)) {
    options.base = (typeof input === &#x27;string&#x27;) ? input : &#x27;&#x27;;
  }
  if(!(&#x27;documentLoader&#x27; in options)) {
    options.documentLoader = jsonld.loadDocument;
  }

  // expand input
  jsonld.expand(input, options, function(err, _input) {
    if(err) {
      return callback(new JsonLdError(
        &#x27;Could not expand input before linking.&#x27;,
        &#x27;jsonld.LinkError&#x27;, {cause: err}));
    }

    var flattened;
    try {
      // flatten the graph
      flattened = new Processor().flatten(_input);
    } catch(ex) {
      return callback(ex);
    }

    // compact result (force @graph option to true, skip expansion)
    options.graph = true;
    options.skipExpansion = true;
    jsonld.compact(flattened, ctx, options, function(err, compacted, ctx) {
      if(err) {
        return callback(new JsonLdError(
          &#x27;Could not compact flattened output before linking.&#x27;,
          &#x27;jsonld.LinkError&#x27;, {cause: err}));
      }
      // get graph alias
      var graph = _compactIri(ctx, &#x27;@graph&#x27;);
      var top = compacted[graph][0];

      var recurse = function(subject) {
        // can&#x27;t replace just a string
        if(!_isObject(subject) &#x26;&#x26; !_isArray(subject)) {
          return;
        }

        // bottom out recursion on re-visit
        if(_isObject(subject)) {
          if(recurse.visited[subject[&#x27;@id&#x27;]]) {
            return;
          }
          recurse.visited[subject[&#x27;@id&#x27;]] = true;
        }

        // each array element *or* object key
        for(var k in subject) {
          var obj = subject[k];
          var isid = (jsonld.getContextValue(ctx, k, &#x27;@type&#x27;) === &#x27;@id&#x27;);

          // can&#x27;t replace a non-object or non-array unless it&#x27;s an @id
          if(!_isArray(obj) &#x26;&#x26; !_isObject(obj) &#x26;&#x26; !isid) {
            continue;
          }

          if(_isString(obj) &#x26;&#x26; isid) {
            subject[k] = obj = top[obj];
            recurse(obj);
          } else if(_isArray(obj)) {
            for(var i = 0; i &#x3c; obj.length; ++i) {
              if(_isString(obj[i]) &#x26;&#x26; isid) {
                obj[i] = top[obj[i]];
              } else if(_isObject(obj[i]) &#x26;&#x26; &#x27;@id&#x27; in obj[i]) {
                obj[i] = top[obj[i][&#x27;@id&#x27;]];
              }
              recurse(obj[i]);
            }
          } else if(_isObject(obj)) {
            var sid = obj[&#x27;@id&#x27;];
            subject[k] = obj = top[sid];
            recurse(obj);
          }
        }
      };
      recurse.visited = {};
      recurse(top);

      compacted.of_type = {};
      for(var s in top) {
        if(!(&#x27;@type&#x27; in top[s])) {
          continue;
        }
        var types = top[s][&#x27;@type&#x27;];
        if(!_isArray(types)) {
          types = [types];
        }
        for(var t = 0; t &#x3c; types.length; ++t) {
          if(!(types[t] in compacted.of_type)) {
            compacted.of_type[types[t]] = [];
          }
          compacted.of_type[types[t]].push(top[s]);
        }
      }
      callback(null, compacted);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.parseLinkHeader" id="apidoc.element.jsonld.parseLinkHeader">
        function <span class="apidocSignatureSpan">jsonld.</span>parseLinkHeader
        <span class="apidocSignatureSpan">(header)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseLinkHeader = function (header) {
  var rval = {};
  // split on unbracketed/unquoted commas
  var entries = header.match(/(?:&#x3c;[^&#x3e;]*?&#x3e;|&#x22;[^&#x22;]*?&#x22;|[^,])+/g);
  var rLinkHeader = /\s*&#x3c;([^&#x3e;]*?)&#x3e;\s*(?:;\s*(.*))?/;
  for(var i = 0; i &#x3c; entries.length; ++i) {
    var match = entries[i].match(rLinkHeader);
    if(!match) {
      continue;
    }
    var result = {target: match[1]};
    var params = match[2];
    var rParams = /(.*?)=(?:(?:&#x22;([^&#x22;]*?)&#x22;)|([^&#x22;]*?))\s*(?:(?:;\s*)|$)/g;
    while(match = rParams.exec(params)) {
      result[match[1]] = (match[2] === undefined) ? match[3] : match[2];
    }
    var rel = result[&#x27;rel&#x27;] || &#x27;&#x27;;
    if(_isArray(rval[rel])) {
      rval[rel].push(result);
    } else if(rel in rval) {
      rval[rel] = [rval[rel], result];
    } else {
      rval[rel] = result;
    }
  }
  return rval;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.prependBase" id="apidoc.element.jsonld.prependBase">
        function <span class="apidocSignatureSpan">jsonld.</span>prependBase
        <span class="apidocSignatureSpan">(base, iri)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prependBase = function (base, iri) {
  return _prependBase(base, iri);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.processContext" id="apidoc.element.jsonld.processContext">
        function <span class="apidocSignatureSpan">jsonld.</span>processContext
        <span class="apidocSignatureSpan">(activeCtx, localCtx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">processContext = function (activeCtx, localCtx) {
  // get arguments
  var options = {};
  var callbackArg = 2;
  if(arguments.length &#x3e; 3) {
    options = arguments[2] || {};
    callbackArg += 1;
  }
  var callback = arguments[callbackArg];

  // set default options
  if(!(&#x27;base&#x27; in options)) {
    options.base = &#x27;&#x27;;
  }
  if(!(&#x27;documentLoader&#x27; in options)) {
    options.documentLoader = jsonld.loadDocument;
  }

  // return initial context early for null context
  if(localCtx === null) {
    return callback(null, _getInitialContext(options));
  }

  // retrieve URLs in localCtx
  localCtx = _clone(localCtx);
  if(!(_isObject(localCtx) &#x26;&#x26; &#x27;@context&#x27; in localCtx)) {
    localCtx = {&#x27;@context&#x27;: localCtx};
  }
  _retrieveContextUrls(localCtx, options, function(err, ctx) {
    if(err) {
      return callback(err);
    }
    try {
      // process context
      ctx = new Processor().processContext(activeCtx, ctx, options);
    } catch(ex) {
      return callback(ex);
    }
    callback(null, ctx);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.promises" id="apidoc.element.jsonld.promises">
        function <span class="apidocSignatureSpan">jsonld.</span>promises
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">promises = function (options) {
  options = options || {};
  var slice = Array.prototype.slice;
  var promisify = jsonld.promisify;

  // handle &#x27;api&#x27; option as version, set defaults
  var api = options.api || {};
  var version = options.version || &#x27;jsonld.js&#x27;;
  if(typeof options.api === &#x27;string&#x27;) {
    if(!options.version) {
      version = options.api;
    }
    api = {};
  }

  api.expand = function(input) {
    if(arguments.length &#x3c; 1) {
      throw new TypeError(&#x27;Could not expand, too few arguments.&#x27;);
    }
    return promisify.apply(null, [jsonld.expand].concat(slice.call(arguments)));
  };
  api.compact = function(input, ctx) {
    if(arguments.length &#x3c; 2) {
      throw new TypeError(&#x27;Could not compact, too few arguments.&#x27;);
    }
    var compact = function(input, ctx, options, callback) {
      // ensure only one value is returned in callback
      jsonld.compact(input, ctx, options, function(err, compacted) {
        callback(err, compacted);
      });
    };
    return promisify.apply(null, [compact].concat(slice.call(arguments)));
  };
  api.flatten = function(input) {
    if(arguments.length &#x3c; 1) {
      throw new TypeError(&#x27;Could not flatten, too few arguments.&#x27;);
    }
    return promisify.apply(
      null, [jsonld.flatten].concat(slice.call(arguments)));
  };
  api.frame = function(input, frame) {
    if(arguments.length &#x3c; 2) {
      throw new TypeError(&#x27;Could not frame, too few arguments.&#x27;);
    }
    return promisify.apply(null, [jsonld.frame].concat(slice.call(arguments)));
  };
  api.fromRDF = function(dataset) {
    if(arguments.length &#x3c; 1) {
      throw new TypeError(&#x27;Could not convert from RDF, too few arguments.&#x27;);
    }
    return promisify.apply(
      null, [jsonld.fromRDF].concat(slice.call(arguments)));
  };
  api.toRDF = function(input) {
    if(arguments.length &#x3c; 1) {
      throw new TypeError(&#x27;Could not convert to RDF, too few arguments.&#x27;);
    }
    return promisify.apply(null, [jsonld.toRDF].concat(slice.call(arguments)));
  };
  api.normalize = function(input) {
    if(arguments.length &#x3c; 1) {
      throw new TypeError(&#x27;Could not normalize, too few arguments.&#x27;);
    }
    return promisify.apply(
      null, [jsonld.normalize].concat(slice.call(arguments)));
  };

  if(version === &#x27;jsonld.js&#x27;) {
    api.link = function(input, ctx) {
      if(arguments.length &#x3c; 2) {
        throw new TypeError(&#x27;Could not link, too few arguments.&#x27;);
      }
      return promisify.apply(
        null, [jsonld.link].concat(slice.call(arguments)));
    };
    api.objectify = function(input) {
      return promisify.apply(
        null, [jsonld.objectify].concat(slice.call(arguments)));
    };
    api.createNodeMap = function(input) {
      return promisify.apply(
        null, [jsonld.createNodeMap].concat(slice.call(arguments)));
    };
    api.merge = function(input) {
      return promisify.apply(
        null, [jsonld.merge].concat(slice.call(arguments)));
    };
  }

  try {
    jsonld.Promise = global.Promise || require(&#x27;es6-promise&#x27;).Promise;
  } catch(e) {
    var f = function() {
      throw new Error(&#x27;Unable to find a Promise implementation.&#x27;);
    };
    for(var method in api) {
      api[method] = f;
    }
  }

  return api;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.promisify" id="apidoc.element.jsonld.promisify">
        function <span class="apidocSignatureSpan">jsonld.</span>promisify
        <span class="apidocSignatureSpan">(op)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">promisify = function (op) {
  if(!jsonld.Promise) {
    try {
      jsonld.Promise = global.Promise || require(&#x27;es6-promise&#x27;).Promise;
    } catch(e) {
      throw new Error(&#x27;Unable to find a Promise implementation.&#x27;);
    }
  }
  var args = Array.prototype.slice.call(arguments, 1);
  return new jsonld.Promise(function(resolve, reject) {
    op.apply(null, args.concat(function(err, value) {
      if(!err) {
        resolve(value);
      } else {
        reject(err);
      }
    }));
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.registerRDFParser" id="apidoc.element.jsonld.registerRDFParser">
        function <span class="apidocSignatureSpan">jsonld.</span>registerRDFParser
        <span class="apidocSignatureSpan">(contentType, parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">registerRDFParser = function (contentType, parser) {
  _rdfParsers[contentType] = parser;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.relabelBlankNodes" id="apidoc.element.jsonld.relabelBlankNodes">
        function <span class="apidocSignatureSpan">jsonld.</span>relabelBlankNodes
        <span class="apidocSignatureSpan">(input, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">relabelBlankNodes = function (input, options) {
  options = options || {};
  var issuer = options.namer || options.issuer || new IdentifierIssuer(&#x27;_:b&#x27;);
  return _labelBlankNodes(issuer, input);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.removeProperty" id="apidoc.element.jsonld.removeProperty">
        function <span class="apidocSignatureSpan">jsonld.</span>removeProperty
        <span class="apidocSignatureSpan">(subject, property)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeProperty = function (subject, property) {
  delete subject[property];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.removeValue" id="apidoc.element.jsonld.removeValue">
        function <span class="apidocSignatureSpan">jsonld.</span>removeValue
        <span class="apidocSignatureSpan">(subject, property, value, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeValue = function (subject, property, value, options) {
  options = options || {};
  if(!(&#x27;propertyIsArray&#x27; in options)) {
    options.propertyIsArray = false;
  }

  // filter out value
  var values = jsonld.getValues(subject, property).filter(function(e) {
    return !jsonld.compareValues(e, value);
  });

  if(values.length === 0) {
    jsonld.removeProperty(subject, property);
  } else if(values.length === 1 &#x26;&#x26; !options.propertyIsArray) {
    subject[property] = values[0];
  } else {
    subject[property] = values;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.setImmediate" id="apidoc.element.jsonld.setImmediate">
        function <span class="apidocSignatureSpan">jsonld.</span>setImmediate
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setImmediate = function (fn) {
  // not a direct alias (for IE10 compatibility)
  _setImmediate(fn);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.toRDF" id="apidoc.element.jsonld.toRDF">
        function <span class="apidocSignatureSpan">jsonld.</span>toRDF
        <span class="apidocSignatureSpan">(input, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toRDF = function (input, options, callback) {
  if(arguments.length &#x3c; 1) {
    return jsonld.nextTick(function() {
      callback(new TypeError(&#x27;Could not convert to RDF, too few arguments.&#x27;));
    });
  }

  // get arguments
  if(typeof options === &#x27;function&#x27;) {
    callback = options;
    options = {};
  }
  options = options || {};

  // set default options
  if(!(&#x27;base&#x27; in options)) {
    options.base = (typeof input === &#x27;string&#x27;) ? input : &#x27;&#x27;;
  }
  if(!(&#x27;documentLoader&#x27; in options)) {
    options.documentLoader = jsonld.loadDocument;
  }

  // expand input
  jsonld.expand(input, options, function(err, expanded) {
    if(err) {
      return callback(new JsonLdError(
        &#x27;Could not expand input before serialization to RDF.&#x27;,
        &#x27;jsonld.RdfError&#x27;, {cause: err}));
    }

    var dataset;
    try {
      // output RDF dataset
      dataset = Processor.prototype.toRDF(expanded, options);
      if(options.format) {
        if(options.format === &#x27;application/nquads&#x27;) {
          return callback(null, _toNQuads(dataset));
        }
        throw new JsonLdError(
          &#x27;Unknown output format.&#x27;,
          &#x27;jsonld.UnknownFormat&#x27;, {format: options.format});
      }
    } catch(ex) {
      return callback(ex);
    }
    callback(null, dataset);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  format: &#x27;application/nquads&#x27;
}, function(err, normalized) {
  // normalized is a string that is a canonical representation of the document
  // that can be used for hashing, comparison, etc.
});

// serialize a document to N-Quads (RDF)
jsonld.<span class="apidocCodeKeywordSpan">toRDF</span>(doc, {format: &#x27;application/nquads&#x27;}, function(err, nquads) {
  // nquads is a string of nquads
});

// deserialize N-Quads (RDF) to JSON-LD
jsonld.fromRDF(nquads, {format: &#x27;application/nquads&#x27;}, function(err, doc) {
  // doc is JSON-LD
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.unregisterRDFParser" id="apidoc.element.jsonld.unregisterRDFParser">
        function <span class="apidocSignatureSpan">jsonld.</span>unregisterRDFParser
        <span class="apidocSignatureSpan">(contentType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unregisterRDFParser = function (contentType) {
  delete _rdfParsers[contentType];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.use" id="apidoc.element.jsonld.use">
        function <span class="apidocSignatureSpan">jsonld.</span>use
        <span class="apidocSignatureSpan">(extension)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">use = function (extension) {
  switch(extension) {
    // TODO: Deprecated as of 0.4.0. Remove at some point.
    case &#x27;request&#x27;:
      // use node JSON-LD request extension
      jsonld.request = require(&#x27;jsonld-request&#x27;);
      break;
    default:
      throw new JsonLdError(
        &#x27;Unknown extension.&#x27;,
        &#x27;jsonld.UnknownExtension&#x27;, {extension: extension});
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.useDocumentLoader" id="apidoc.element.jsonld.useDocumentLoader">
        function <span class="apidocSignatureSpan">jsonld.</span>useDocumentLoader
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">useDocumentLoader = function (type) {
  if(!(type in jsonld.documentLoaders)) {
    throw new JsonLdError(
      &#x27;Unknown document loader type: &#x22;&#x27; + type + &#x27;&#x22;&#x27;,
      &#x27;jsonld.UnknownDocumentLoader&#x27;,
      {type: type});
  }

  // set document loader
  jsonld.documentLoader = jsonld.documentLoaders[type].apply(
    jsonld, Array.prototype.slice.call(arguments, 1));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonld.ActiveContextCache" id="apidoc.module.jsonld.ActiveContextCache">module jsonld.ActiveContextCache</a></h1>


    <h2>
        <a href="#apidoc.element.jsonld.ActiveContextCache.ActiveContextCache" id="apidoc.element.jsonld.ActiveContextCache.ActiveContextCache">
        function <span class="apidocSignatureSpan">jsonld.</span>ActiveContextCache
        <span class="apidocSignatureSpan">(size)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ActiveContextCache = function (size) {
  this.order = [];
  this.cache = {};
  this.size = size || 100;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonld.ActiveContextCache.prototype" id="apidoc.module.jsonld.ActiveContextCache.prototype">module jsonld.ActiveContextCache.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsonld.ActiveContextCache.prototype.get" id="apidoc.element.jsonld.ActiveContextCache.prototype.get">
        function <span class="apidocSignatureSpan">jsonld.ActiveContextCache.prototype.</span>get
        <span class="apidocSignatureSpan">(activeCtx, localCtx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (activeCtx, localCtx) {
  var key1 = JSON.stringify(activeCtx);
  var key2 = JSON.stringify(localCtx);
  var level1 = this.cache[key1];
  if(level1 &#x26;&#x26; key2 in level1) {
    return level1[key2];
  }
  return null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.ActiveContextCache.prototype.set" id="apidoc.element.jsonld.ActiveContextCache.prototype.set">
        function <span class="apidocSignatureSpan">jsonld.ActiveContextCache.prototype.</span>set
        <span class="apidocSignatureSpan">( activeCtx, localCtx, result)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">set = function ( activeCtx, localCtx, result) {
  if(this.order.length === this.size) {
    var entry = this.order.shift();
    delete this.cache[entry.activeCtx][entry.localCtx];
  }
  var key1 = JSON.stringify(activeCtx);
  var key2 = JSON.stringify(localCtx);
  this.order.push({activeCtx: key1, localCtx: key2});
  if(!(key1 in this.cache)) {
    this.cache[key1] = {};
  }
  this.cache[key1][key2] = _clone(result);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonld.DocumentCache" id="apidoc.module.jsonld.DocumentCache">module jsonld.DocumentCache</a></h1>


    <h2>
        <a href="#apidoc.element.jsonld.DocumentCache.DocumentCache" id="apidoc.element.jsonld.DocumentCache.DocumentCache">
        function <span class="apidocSignatureSpan">jsonld.</span>DocumentCache
        <span class="apidocSignatureSpan">(size)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">DocumentCache = function (size) {
  this.order = [];
  this.cache = {};
  this.size = size || 50;
  this.expires = 30 * 1000;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonld.DocumentCache.prototype" id="apidoc.module.jsonld.DocumentCache.prototype">module jsonld.DocumentCache.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsonld.DocumentCache.prototype.get" id="apidoc.element.jsonld.DocumentCache.prototype.get">
        function <span class="apidocSignatureSpan">jsonld.DocumentCache.prototype.</span>get
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (url) {
  if(url in this.cache) {
    var entry = this.cache[url];
    if(entry.expires &#x3e;= +new Date()) {
      return entry.ctx;
    }
    delete this.cache[url];
    this.order.splice(this.order.indexOf(url), 1);
  }
  return null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.DocumentCache.prototype.set" id="apidoc.element.jsonld.DocumentCache.prototype.set">
        function <span class="apidocSignatureSpan">jsonld.DocumentCache.prototype.</span>set
        <span class="apidocSignatureSpan">(url, ctx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">set = function (url, ctx) {
  if(this.order.length === this.size) {
    delete this.cache[this.order.shift()];
  }
  this.order.push(url);
  this.cache[url] = {ctx: ctx, expires: (+new Date() + this.expires)};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonld.IdentifierIssuer" id="apidoc.module.jsonld.IdentifierIssuer">module jsonld.IdentifierIssuer</a></h1>


    <h2>
        <a href="#apidoc.element.jsonld.IdentifierIssuer.IdentifierIssuer" id="apidoc.element.jsonld.IdentifierIssuer.IdentifierIssuer">
        function <span class="apidocSignatureSpan">jsonld.</span>IdentifierIssuer
        <span class="apidocSignatureSpan">(prefix)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function IdentifierIssuer(prefix) {
  this.prefix = prefix;
  this.counter = 0;
  this.existing = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonld.IdentifierIssuer.prototype" id="apidoc.module.jsonld.IdentifierIssuer.prototype">module jsonld.IdentifierIssuer.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsonld.IdentifierIssuer.prototype.clone" id="apidoc.element.jsonld.IdentifierIssuer.prototype.clone">
        function <span class="apidocSignatureSpan">jsonld.IdentifierIssuer.prototype.</span>clone
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clone = function () {
  var copy = new IdentifierIssuer(this.prefix);
  copy.counter = this.counter;
  copy.existing = _clone(this.existing);
  return copy;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.IdentifierIssuer.prototype.getId" id="apidoc.element.jsonld.IdentifierIssuer.prototype.getId">
        function <span class="apidocSignatureSpan">jsonld.IdentifierIssuer.prototype.</span>getId
        <span class="apidocSignatureSpan">(old)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getId = function (old) {
  // return existing old identifier
  if(old &#x26;&#x26; old in this.existing) {
    return this.existing[old];
  }

  // get next identifier
  var identifier = this.prefix + this.counter;
  this.counter += 1;

  // save mapping
  if(old) {
    this.existing[old] = identifier;
  }

  return identifier;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.IdentifierIssuer.prototype.hasId" id="apidoc.element.jsonld.IdentifierIssuer.prototype.hasId">
        function <span class="apidocSignatureSpan">jsonld.IdentifierIssuer.prototype.</span>hasId
        <span class="apidocSignatureSpan">(old)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasId = function (old) {
  return (old in this.existing);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.IdentifierIssuer.prototype.isNamed" id="apidoc.element.jsonld.IdentifierIssuer.prototype.isNamed">
        function <span class="apidocSignatureSpan">jsonld.IdentifierIssuer.prototype.</span>isNamed
        <span class="apidocSignatureSpan">(old)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isNamed = function (old) {
  return (old in this.existing);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonld.JsonLdProcessor" id="apidoc.module.jsonld.JsonLdProcessor">module jsonld.JsonLdProcessor</a></h1>


    <h2>
        <a href="#apidoc.element.jsonld.JsonLdProcessor.JsonLdProcessor" id="apidoc.element.jsonld.JsonLdProcessor.JsonLdProcessor">
        function <span class="apidocSignatureSpan">jsonld.</span>JsonLdProcessor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function JsonLdProcessor() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonld.JsonLdProcessor.prototype" id="apidoc.module.jsonld.JsonLdProcessor.prototype">module jsonld.JsonLdProcessor.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsonld.JsonLdProcessor.prototype.compact" id="apidoc.element.jsonld.JsonLdProcessor.prototype.compact">
        function <span class="apidocSignatureSpan">jsonld.JsonLdProcessor.prototype.</span>compact
        <span class="apidocSignatureSpan">(input, ctx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">compact = function (input, ctx) {
  if(arguments.length &#x3c; 2) {
    throw new TypeError(&#x27;Could not compact, too few arguments.&#x27;);
  }
  var compact = function(input, ctx, options, callback) {
    // ensure only one value is returned in callback
    jsonld.compact(input, ctx, options, function(err, compacted) {
      callback(err, compacted);
    });
  };
  return promisify.apply(null, [compact].concat(slice.call(arguments)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
&#x22;name&#x22;: &#x22;http://schema.org/name&#x22;,
&#x22;homepage&#x22;: {&#x22;@id&#x22;: &#x22;http://schema.org/url&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22;},
&#x22;image&#x22;: {&#x22;@id&#x22;: &#x22;http://schema.org/image&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22;}
};

// compact a document according to a particular context
// see: http://json-ld.org/spec/latest/json-ld/#compacted-document-form
jsonld.<span class="apidocCodeKeywordSpan">compact</span>(doc, context, function(err, compacted) {
console.log(JSON.stringify(compacted, null, 2));
/* Output:
{
  &#x22;@context&#x22;: {...},
  &#x22;name&#x22;: &#x22;Manu Sporny&#x22;,
  &#x22;homepage&#x22;: &#x22;http://manu.sporny.org/&#x22;,
  &#x22;image&#x22;: &#x22;http://manu.sporny.org/images/manu.png&#x22;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.JsonLdProcessor.prototype.expand" id="apidoc.element.jsonld.JsonLdProcessor.prototype.expand">
        function <span class="apidocSignatureSpan">jsonld.JsonLdProcessor.prototype.</span>expand
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">expand = function (input) {
  if(arguments.length &#x3c; 1) {
    throw new TypeError(&#x27;Could not expand, too few arguments.&#x27;);
  }
  return promisify.apply(null, [jsonld.expand].concat(slice.call(arguments)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

// compact using URLs
jsonld.compact(&#x27;http://example.org/doc&#x27;, &#x27;http://example.org/context&#x27;, ...);

// expand a document, removing its context
// see: http://json-ld.org/spec/latest/json-ld/#expanded-document-form
jsonld.<span class="apidocCodeKeywordSpan">expand</span>(compacted, function(err, expanded) {
/* Output:
{
  &#x22;http://schema.org/name&#x22;: [{&#x22;@value&#x22;: &#x22;Manu Sporny&#x22;}],
  &#x22;http://schema.org/url&#x22;: [{&#x22;@id&#x22;: &#x22;http://manu.sporny.org/&#x22;}],
  &#x22;http://schema.org/image&#x22;: [{&#x22;@id&#x22;: &#x22;http://manu.sporny.org/images/manu.png&#x22;}]
}
*/
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.JsonLdProcessor.prototype.flatten" id="apidoc.element.jsonld.JsonLdProcessor.prototype.flatten">
        function <span class="apidocSignatureSpan">jsonld.JsonLdProcessor.prototype.</span>flatten
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">flatten = function (input) {
  if(arguments.length &#x3c; 1) {
    throw new TypeError(&#x27;Could not flatten, too few arguments.&#x27;);
  }
  return promisify.apply(
    null, [jsonld.flatten].concat(slice.call(arguments)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

// expand using URLs
jsonld.expand(&#x27;http://example.org/doc&#x27;, ...);

// flatten a document
// see: http://json-ld.org/spec/latest/json-ld/#flattened-document-form
jsonld.<span class="apidocCodeKeywordSpan">flatten</span>(doc, function(err, flattened) {
// all deep-level trees flattened to the top-level
});

// frame a document
// see: http://json-ld.org/spec/latest/json-ld-framing/#introduction
jsonld.frame(doc, frame, function(err, framed) {
// document transformed into a particular tree structure per the given frame
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.JsonLdProcessor.prototype.frame" id="apidoc.element.jsonld.JsonLdProcessor.prototype.frame">
        function <span class="apidocSignatureSpan">jsonld.JsonLdProcessor.prototype.</span>frame
        <span class="apidocSignatureSpan">(input, frame)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">frame = function (input, frame) {
  if(arguments.length &#x3c; 2) {
    throw new TypeError(&#x27;Could not frame, too few arguments.&#x27;);
  }
  return promisify.apply(null, [jsonld.frame].concat(slice.call(arguments)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// see: http://json-ld.org/spec/latest/json-ld/#flattened-document-form
jsonld.flatten(doc, function(err, flattened) {
// all deep-level trees flattened to the top-level
});

// frame a document
// see: http://json-ld.org/spec/latest/json-ld-framing/#introduction
jsonld.<span class="apidocCodeKeywordSpan">frame</span>(doc, frame, function(err, framed) {
// document transformed into a particular tree structure per the given frame
});

// normalize a document using the RDF Dataset Normalization Algorithm
// (URDNA2015), see: http://json-ld.github.io/normalization/spec/
jsonld.normalize(doc, {
algorithm: &#x27;URDNA2015&#x27;,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.JsonLdProcessor.prototype.fromRDF" id="apidoc.element.jsonld.JsonLdProcessor.prototype.fromRDF">
        function <span class="apidocSignatureSpan">jsonld.JsonLdProcessor.prototype.</span>fromRDF
        <span class="apidocSignatureSpan">(dataset)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromRDF = function (dataset) {
  if(arguments.length &#x3c; 1) {
    throw new TypeError(&#x27;Could not convert from RDF, too few arguments.&#x27;);
  }
  return promisify.apply(
    null, [jsonld.fromRDF].concat(slice.call(arguments)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// serialize a document to N-Quads (RDF)
jsonld.toRDF(doc, {format: &#x27;application/nquads&#x27;}, function(err, nquads) {
// nquads is a string of nquads
});

// deserialize N-Quads (RDF) to JSON-LD
jsonld.<span class="apidocCodeKeywordSpan">fromRDF</span>(nquads, {format: &#x27;application/nquads&#x27;}, function(err, doc) {
// doc is JSON-LD
});

// register a custom async-callback-based RDF parser
jsonld.registerRDFParser = function(contentType, function(input, callback) {
// parse input to a jsonld.js RDF dataset object...
callback(err, dataset);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.JsonLdProcessor.prototype.normalize" id="apidoc.element.jsonld.JsonLdProcessor.prototype.normalize">
        function <span class="apidocSignatureSpan">jsonld.JsonLdProcessor.prototype.</span>normalize
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">normalize = function (input) {
  if(arguments.length &#x3c; 1) {
    throw new TypeError(&#x27;Could not normalize, too few arguments.&#x27;);
  }
  return promisify.apply(
    null, [jsonld.normalize].concat(slice.call(arguments)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// see: http://json-ld.org/spec/latest/json-ld-framing/#introduction
jsonld.frame(doc, frame, function(err, framed) {
  // document transformed into a particular tree structure per the given frame
});

// normalize a document using the RDF Dataset Normalization Algorithm
// (URDNA2015), see: http://json-ld.github.io/normalization/spec/
jsonld.<span class="apidocCodeKeywordSpan">normalize</span>(doc, {
  algorithm: &#x27;URDNA2015&#x27;,
  format: &#x27;application/nquads&#x27;
}, function(err, normalized) {
  // normalized is a string that is a canonical representation of the document
  // that can be used for hashing, comparison, etc.
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.JsonLdProcessor.prototype.toRDF" id="apidoc.element.jsonld.JsonLdProcessor.prototype.toRDF">
        function <span class="apidocSignatureSpan">jsonld.JsonLdProcessor.prototype.</span>toRDF
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toRDF = function (input) {
  if(arguments.length &#x3c; 1) {
    throw new TypeError(&#x27;Could not convert to RDF, too few arguments.&#x27;);
  }
  return promisify.apply(null, [jsonld.toRDF].concat(slice.call(arguments)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  format: &#x27;application/nquads&#x27;
}, function(err, normalized) {
  // normalized is a string that is a canonical representation of the document
  // that can be used for hashing, comparison, etc.
});

// serialize a document to N-Quads (RDF)
jsonld.<span class="apidocCodeKeywordSpan">toRDF</span>(doc, {format: &#x27;application/nquads&#x27;}, function(err, nquads) {
  // nquads is a string of nquads
});

// deserialize N-Quads (RDF) to JSON-LD
jsonld.fromRDF(nquads, {format: &#x27;application/nquads&#x27;}, function(err, doc) {
  // doc is JSON-LD
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.JsonLdProcessor.prototype.toString" id="apidoc.element.jsonld.JsonLdProcessor.prototype.toString">
        function <span class="apidocSignatureSpan">jsonld.JsonLdProcessor.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
  if(this instanceof JsonLdProcessor) {
    return &#x27;[object JsonLdProcessor]&#x27;;
  }
  return &#x27;[object JsonLdProcessorPrototype]&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonld.RequestQueue" id="apidoc.module.jsonld.RequestQueue">module jsonld.RequestQueue</a></h1>


    <h2>
        <a href="#apidoc.element.jsonld.RequestQueue.RequestQueue" id="apidoc.element.jsonld.RequestQueue.RequestQueue">
        function <span class="apidocSignatureSpan">jsonld.</span>RequestQueue
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">RequestQueue = function () {
  this._requests = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonld.RequestQueue.prototype" id="apidoc.module.jsonld.RequestQueue.prototype">module jsonld.RequestQueue.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsonld.RequestQueue.prototype.add" id="apidoc.element.jsonld.RequestQueue.prototype.add">
        function <span class="apidocSignatureSpan">jsonld.RequestQueue.prototype.</span>add
        <span class="apidocSignatureSpan">(url, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">add = function (url, callback) {
  var self = this;

  // callback must be given if not using promises
  if(!callback &#x26;&#x26; !self._usePromise) {
    throw new Error(&#x27;callback must be specified.&#x27;);
  }

  // Promise-based API
  if(self._usePromise) {
    return new jsonld.Promise(function(resolve, reject) {
      var load = self._requests[url];
      if(!load) {
        // load URL then remove from queue
        load = self._requests[url] = self._loader(url)
          .then(function(remoteDoc) {
            delete self._requests[url];
            return remoteDoc;
          }).catch(function(err) {
            delete self._requests[url];
            throw err;
          });
      }
      // resolve/reject promise once URL has been loaded
      load.then(function(remoteDoc) {
        resolve(remoteDoc);
      }).catch(function(err) {
        reject(err);
      });
    });
  }

  // callback-based API
  if(url in self._requests) {
    self._requests[url].push(callback);
  } else {
    self._requests[url] = [callback];
    self._loader(url, function(err, remoteDoc) {
      var callbacks = self._requests[url];
      delete self._requests[url];
      for(var i = 0; i &#x3c; callbacks.length; ++i) {
        callbacks[i](err, remoteDoc);
      }
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.RequestQueue.prototype.wrapLoader" id="apidoc.element.jsonld.RequestQueue.prototype.wrapLoader">
        function <span class="apidocSignatureSpan">jsonld.RequestQueue.prototype.</span>wrapLoader
        <span class="apidocSignatureSpan">(loader)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">wrapLoader = function (loader) {
  this._loader = loader;
  this._usePromise = (loader.length === 1);
  return this.add.bind(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonld.documentLoaders" id="apidoc.module.jsonld.documentLoaders">module jsonld.documentLoaders</a></h1>


    <h2>
        <a href="#apidoc.element.jsonld.documentLoaders.jquery" id="apidoc.element.jsonld.documentLoaders.jquery">
        function <span class="apidocSignatureSpan">jsonld.documentLoaders.</span>jquery
        <span class="apidocSignatureSpan">($, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">jquery = function ($, options) {
  options = options || {};
  var queue = new jsonld.RequestQueue();

  // use option or, by default, use Promise when its defined
  var usePromise = (&#x27;usePromise&#x27; in options ?
    options.usePromise : (typeof Promise !== &#x27;undefined&#x27;));
  if(usePromise) {
    return queue.wrapLoader(function(url) {
      return jsonld.promisify(loader, url);
    });
  }
  return queue.wrapLoader(loader);

  function loader(url, callback) {
    if(url.indexOf(&#x27;http:&#x27;) !== 0 &#x26;&#x26; url.indexOf(&#x27;https:&#x27;) !== 0) {
      return callback(new JsonLdError(
        &#x27;URL could not be dereferenced; only &#x22;http&#x22; and &#x22;https&#x22; URLs are &#x27; +
        &#x27;supported.&#x27;,
        &#x27;jsonld.InvalidUrl&#x27;, {code: &#x27;loading document failed&#x27;, url: url}),
        {contextUrl: null, documentUrl: url, document: null});
    }
    if(options.secure &#x26;&#x26; url.indexOf(&#x27;https&#x27;) !== 0) {
      return callback(new JsonLdError(
        &#x27;URL could not be dereferenced; secure mode is enabled and &#x27; +
        &#x27;the URL\&#x27;s scheme is not &#x22;https&#x22;.&#x27;,
        &#x27;jsonld.InvalidUrl&#x27;, {code: &#x27;loading document failed&#x27;, url: url}),
        {contextUrl: null, documentUrl: url, document: null});
    }
    $.ajax({
      url: url,
      accepts: {
        json: &#x27;application/ld+json, application/json&#x27;
      },
      // ensure Accept header is very specific for JSON-LD/JSON
      headers: {
        &#x27;Accept&#x27;: &#x27;application/ld+json, application/json&#x27;
      },
      dataType: &#x27;json&#x27;,
      crossDomain: true,
      success: function(data, textStatus, jqXHR) {
        var doc = {contextUrl: null, documentUrl: url, document: data};

        // handle Link Header
        var contentType = jqXHR.getResponseHeader(&#x27;Content-Type&#x27;);
        var linkHeader = jqXHR.getResponseHeader(&#x27;Link&#x27;);
        if(linkHeader &#x26;&#x26; contentType !== &#x27;application/ld+json&#x27;) {
          // only 1 related link header permitted
          linkHeader = jsonld.parseLinkHeader(linkHeader)[LINK_HEADER_REL];
          if(_isArray(linkHeader)) {
            return callback(new JsonLdError(
              &#x27;URL could not be dereferenced, it has more than one &#x27; +
              &#x27;associated HTTP Link Header.&#x27;,
              &#x27;jsonld.InvalidUrl&#x27;,
              {code: &#x27;multiple context link headers&#x27;, url: url}), doc);
          }
          if(linkHeader) {
            doc.contextUrl = linkHeader.target;
          }
        }

        callback(null, doc);
      },
      error: function(jqXHR, textStatus, err) {
        callback(new JsonLdError(
          &#x27;URL could not be dereferenced, an error occurred.&#x27;,
          &#x27;jsonld.LoadDocumentError&#x27;,
          {code: &#x27;loading document failed&#x27;, url: url, cause: err}),
          {contextUrl: null, documentUrl: url, document: null});
      }
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  &#x22;@context&#x22;: ...
}, ...
};

// grab the built-in node.js doc loader
var nodeDocumentLoader = jsonld.documentLoaders.node();
// or grab the XHR one: jsonld.documentLoaders.xhr()
// or grab the jquery one: jsonld.documentLoaders.<span class="apidocCodeKeywordSpan">jquery</span>()

// change the default document loader using the callback API
// (you can also do this using the promise-based API, return a promise instead
// of using a callback)
var customLoader = function(url, callback) {
if(url in CONTEXTS) {
  return callback(
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.documentLoaders.node" id="apidoc.element.jsonld.documentLoaders.node">
        function <span class="apidocSignatureSpan">jsonld.documentLoaders.</span>node
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">node = function (options) {
  options = options || {};
  var strictSSL = (&#x27;strictSSL&#x27; in options) ? options.strictSSL : true;
  var maxRedirects = (&#x27;maxRedirects&#x27; in options) ? options.maxRedirects : -1;
  var request = (&#x27;request&#x27; in options) ? options.request : require(&#x27;request&#x27;);
  var acceptHeader = &#x27;application/ld+json, application/json&#x27;;
  var http = require(&#x27;http&#x27;);
  // TODO: disable cache until HTTP caching implemented
  //var cache = new jsonld.DocumentCache();

  var queue = new jsonld.RequestQueue();
  if(options.usePromise) {
    return queue.wrapLoader(function(url) {
      return jsonld.promisify(loadDocument, url, []);
    });
  }
  var headers = options.headers || {};
  if(&#x27;Accept&#x27; in headers || &#x27;accept&#x27; in headers) {
    throw new RangeError(
      &#x27;Accept header may not be specified as an option; only &#x22;&#x27; +
      acceptHeader + &#x27;&#x22; is supported.&#x27;);
  }
  return queue.wrapLoader(function(url, callback) {
    loadDocument(url, [], callback);
  });

  function loadDocument(url, redirects, callback) {
    if(url.indexOf(&#x27;http:&#x27;) !== 0 &#x26;&#x26; url.indexOf(&#x27;https:&#x27;) !== 0) {
      return callback(new JsonLdError(
        &#x27;URL could not be dereferenced; only &#x22;http&#x22; and &#x22;https&#x22; URLs are &#x27; +
        &#x27;supported.&#x27;,
        &#x27;jsonld.InvalidUrl&#x27;, {code: &#x27;loading document failed&#x27;, url: url}),
        {contextUrl: null, documentUrl: url, document: null});
    }
    if(options.secure &#x26;&#x26; url.indexOf(&#x27;https&#x27;) !== 0) {
      return callback(new JsonLdError(
        &#x27;URL could not be dereferenced; secure mode is enabled and &#x27; +
        &#x27;the URL\&#x27;s scheme is not &#x22;https&#x22;.&#x27;,
        &#x27;jsonld.InvalidUrl&#x27;, {code: &#x27;loading document failed&#x27;, url: url}),
        {contextUrl: null, documentUrl: url, document: null});
    }
    // TODO: disable cache until HTTP caching implemented
    var doc = null;//cache.get(url);
    if(doc !== null) {
      return callback(null, doc);
    }
    var headers = {&#x27;Accept&#x27;: acceptHeader};
    for(var k in options.headers) { headers[k] = options.headers[k]; }
    request({
      url: url,
      headers: headers,
      strictSSL: strictSSL,
      followRedirect: false
    }, handleResponse);

    function handleResponse(err, res, body) {
      doc = {contextUrl: null, documentUrl: url, document: body || null};

      // handle error
      if(err) {
        return callback(new JsonLdError(
          &#x27;URL could not be dereferenced, an error occurred.&#x27;,
          &#x27;jsonld.LoadDocumentError&#x27;,
          {code: &#x27;loading document failed&#x27;, url: url, cause: err}), doc);
      }
      var statusText = http.STATUS_CODES[res.statusCode];
      if(res.statusCode &#x3e;= 400) {
        return callback(new JsonLdError(
          &#x27;URL could not be dereferenced: &#x27; + statusText,
          &#x27;jsonld.InvalidUrl&#x27;, {
            code: &#x27;loading document failed&#x27;,
            url: url,
            httpStatusCode: res.statusCode
          }), doc);
      }

      // handle Link Header
      if(res.headers.link &#x26;&#x26;
        res.headers[&#x27;content-type&#x27;] !== &#x27;application/ld+json&#x27;) {
        // only 1 related link header permitted
        var linkHeader = jsonld.parseLinkHeader(
          res.headers.link)[LINK_HEADER_REL];
        if(_isArray(linkHeader)) {
          return callback(new JsonLdError(
            &#x27;URL could not be dereferenced, it has more than one associated &#x27; +
            &#x27;HTTP Link Header.&#x27;,
            &#x27;jsonld.InvalidUrl&#x27;,
            {code: &#x27;multiple context link headers&#x27;, url: url}), doc);
        }
        if(linkHeader) {
          doc.contextUrl = linkHeader.target;
        }
      }

      // handle redirect
      if(res.statusCode &#x3e;= 300 &#x26;&#x26; res.statusCode &#x3c; 400 &#x26;&#x26;
        res.headers.location) {
        if(redirects.length === maxRedirects) {
          return callback(new JsonLdError(
            &#x27;URL could not be dereferenced; there were too many redirects.&#x27;,
            &#x27;jsonld.TooManyRedirects&#x27;, {
              code: &#x27;loading document failed&#x27;,
              url: url,
              httpStatusCode: res.statusCode,
              redirects: redirects
            }), doc);
        }
        if(redirects.indexOf(url) !== -1) { ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var CONTEXTS = {
  &#x22;http://example.com&#x22;: {
    &#x22;@context&#x22;: ...
  }, ...
};

// grab the built-in node.js doc loader
var nodeDocumentLoader = jsonld.documentLoaders.<span class="apidocCodeKeywordSpan">node</span>();
// or grab the XHR one: jsonld.documentLoaders.xhr()
// or grab the jquery one: jsonld.documentLoaders.jquery()

// change the default document loader using the callback API
// (you can also do this using the promise-based API, return a promise instead
// of using a callback)
var customLoader = function(url, callback) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.documentLoaders.xhr" id="apidoc.element.jsonld.documentLoaders.xhr">
        function <span class="apidocSignatureSpan">jsonld.documentLoaders.</span>xhr
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">xhr = function (options) {
  options = options || {};
  var rlink = /(^|(\r\n))link:/i;
  var queue = new jsonld.RequestQueue();

  // use option or, by default, use Promise when its defined
  var usePromise = (&#x27;usePromise&#x27; in options ?
    options.usePromise : (typeof Promise !== &#x27;undefined&#x27;));
  if(usePromise) {
    return queue.wrapLoader(function(url) {
      return jsonld.promisify(loader, url);
    });
  }
  return queue.wrapLoader(loader);

  function loader(url, callback) {
    if(url.indexOf(&#x27;http:&#x27;) !== 0 &#x26;&#x26; url.indexOf(&#x27;https:&#x27;) !== 0) {
      return callback(new JsonLdError(
        &#x27;URL could not be dereferenced; only &#x22;http&#x22; and &#x22;https&#x22; URLs are &#x27; +
        &#x27;supported.&#x27;,
        &#x27;jsonld.InvalidUrl&#x27;, {code: &#x27;loading document failed&#x27;, url: url}),
        {contextUrl: null, documentUrl: url, document: null});
    }
    if(options.secure &#x26;&#x26; url.indexOf(&#x27;https&#x27;) !== 0) {
      return callback(new JsonLdError(
        &#x27;URL could not be dereferenced; secure mode is enabled and &#x27; +
        &#x27;the URL\&#x27;s scheme is not &#x22;https&#x22;.&#x27;,
        &#x27;jsonld.InvalidUrl&#x27;, {code: &#x27;loading document failed&#x27;, url: url}),
        {contextUrl: null, documentUrl: url, document: null});
    }
    var xhr = options.xhr || XMLHttpRequest;
    var req = new xhr();
    req.onload = function() {
      if(req.status &#x3e;= 400) {
        return callback(new JsonLdError(
          &#x27;URL could not be dereferenced: &#x27; + req.statusText,
          &#x27;jsonld.LoadDocumentError&#x27;, {
            code: &#x27;loading document failed&#x27;,
            url: url,
            httpStatusCode: req.status
          }), {contextUrl: null, documentUrl: url, document: null});
      }

      var doc = {contextUrl: null, documentUrl: url, document: req.response};

      // handle Link Header (avoid unsafe header warning by existence testing)
      var contentType = req.getResponseHeader(&#x27;Content-Type&#x27;);
      var linkHeader;
      if(rlink.test(req.getAllResponseHeaders())) {
        linkHeader = req.getResponseHeader(&#x27;Link&#x27;);
      }
      if(linkHeader &#x26;&#x26; contentType !== &#x27;application/ld+json&#x27;) {
        // only 1 related link header permitted
        linkHeader = jsonld.parseLinkHeader(linkHeader)[LINK_HEADER_REL];
        if(_isArray(linkHeader)) {
          return callback(new JsonLdError(
            &#x27;URL could not be dereferenced, it has more than one &#x27; +
            &#x27;associated HTTP Link Header.&#x27;,
            &#x27;jsonld.InvalidUrl&#x27;,
            {code: &#x27;multiple context link headers&#x27;, url: url}), doc);
        }
        if(linkHeader) {
          doc.contextUrl = linkHeader.target;
        }
      }

      callback(null, doc);
    };
    req.onerror = function() {
      callback(new JsonLdError(
        &#x27;URL could not be dereferenced, an error occurred.&#x27;,
        &#x27;jsonld.LoadDocumentError&#x27;,
        {code: &#x27;loading document failed&#x27;, url: url}),
        {contextUrl: null, documentUrl: url, document: null});
    };
    req.open(&#x27;GET&#x27;, url, true);
    req.setRequestHeader(&#x27;Accept&#x27;, &#x27;application/ld+json, application/json&#x27;);
    req.send();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
&#x22;http://example.com&#x22;: {
  &#x22;@context&#x22;: ...
}, ...
};

// grab the built-in node.js doc loader
var nodeDocumentLoader = jsonld.documentLoaders.node();
// or grab the XHR one: jsonld.documentLoaders.<span class="apidocCodeKeywordSpan">xhr</span>()
// or grab the jquery one: jsonld.documentLoaders.jquery()

// change the default document loader using the callback API
// (you can also do this using the promise-based API, return a promise instead
// of using a callback)
var customLoader = function(url, callback) {
if(url in CONTEXTS) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonld.promises" id="apidoc.module.jsonld.promises">module jsonld.promises</a></h1>


    <h2>
        <a href="#apidoc.element.jsonld.promises.promises" id="apidoc.element.jsonld.promises.promises">
        function <span class="apidocSignatureSpan">jsonld.</span>promises
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">promises = function (options) {
  options = options || {};
  var slice = Array.prototype.slice;
  var promisify = jsonld.promisify;

  // handle &#x27;api&#x27; option as version, set defaults
  var api = options.api || {};
  var version = options.version || &#x27;jsonld.js&#x27;;
  if(typeof options.api === &#x27;string&#x27;) {
    if(!options.version) {
      version = options.api;
    }
    api = {};
  }

  api.expand = function(input) {
    if(arguments.length &#x3c; 1) {
      throw new TypeError(&#x27;Could not expand, too few arguments.&#x27;);
    }
    return promisify.apply(null, [jsonld.expand].concat(slice.call(arguments)));
  };
  api.compact = function(input, ctx) {
    if(arguments.length &#x3c; 2) {
      throw new TypeError(&#x27;Could not compact, too few arguments.&#x27;);
    }
    var compact = function(input, ctx, options, callback) {
      // ensure only one value is returned in callback
      jsonld.compact(input, ctx, options, function(err, compacted) {
        callback(err, compacted);
      });
    };
    return promisify.apply(null, [compact].concat(slice.call(arguments)));
  };
  api.flatten = function(input) {
    if(arguments.length &#x3c; 1) {
      throw new TypeError(&#x27;Could not flatten, too few arguments.&#x27;);
    }
    return promisify.apply(
      null, [jsonld.flatten].concat(slice.call(arguments)));
  };
  api.frame = function(input, frame) {
    if(arguments.length &#x3c; 2) {
      throw new TypeError(&#x27;Could not frame, too few arguments.&#x27;);
    }
    return promisify.apply(null, [jsonld.frame].concat(slice.call(arguments)));
  };
  api.fromRDF = function(dataset) {
    if(arguments.length &#x3c; 1) {
      throw new TypeError(&#x27;Could not convert from RDF, too few arguments.&#x27;);
    }
    return promisify.apply(
      null, [jsonld.fromRDF].concat(slice.call(arguments)));
  };
  api.toRDF = function(input) {
    if(arguments.length &#x3c; 1) {
      throw new TypeError(&#x27;Could not convert to RDF, too few arguments.&#x27;);
    }
    return promisify.apply(null, [jsonld.toRDF].concat(slice.call(arguments)));
  };
  api.normalize = function(input) {
    if(arguments.length &#x3c; 1) {
      throw new TypeError(&#x27;Could not normalize, too few arguments.&#x27;);
    }
    return promisify.apply(
      null, [jsonld.normalize].concat(slice.call(arguments)));
  };

  if(version === &#x27;jsonld.js&#x27;) {
    api.link = function(input, ctx) {
      if(arguments.length &#x3c; 2) {
        throw new TypeError(&#x27;Could not link, too few arguments.&#x27;);
      }
      return promisify.apply(
        null, [jsonld.link].concat(slice.call(arguments)));
    };
    api.objectify = function(input) {
      return promisify.apply(
        null, [jsonld.objectify].concat(slice.call(arguments)));
    };
    api.createNodeMap = function(input) {
      return promisify.apply(
        null, [jsonld.createNodeMap].concat(slice.call(arguments)));
    };
    api.merge = function(input) {
      return promisify.apply(
        null, [jsonld.merge].concat(slice.call(arguments)));
    };
  }

  try {
    jsonld.Promise = global.Promise || require(&#x27;es6-promise&#x27;).Promise;
  } catch(e) {
    var f = function() {
      throw new Error(&#x27;Unable to find a Promise implementation.&#x27;);
    };
    for(var method in api) {
      api[method] = f;
    }
  }

  return api;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.promises.compact" id="apidoc.element.jsonld.promises.compact">
        function <span class="apidocSignatureSpan">jsonld.promises.</span>compact
        <span class="apidocSignatureSpan">(input, ctx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">compact = function (input, ctx) {
  if(arguments.length &#x3c; 2) {
    throw new TypeError(&#x27;Could not compact, too few arguments.&#x27;);
  }
  var compact = function(input, ctx, options, callback) {
    // ensure only one value is returned in callback
    jsonld.compact(input, ctx, options, function(err, compacted) {
      callback(err, compacted);
    });
  };
  return promisify.apply(null, [compact].concat(slice.call(arguments)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
&#x22;name&#x22;: &#x22;http://schema.org/name&#x22;,
&#x22;homepage&#x22;: {&#x22;@id&#x22;: &#x22;http://schema.org/url&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22;},
&#x22;image&#x22;: {&#x22;@id&#x22;: &#x22;http://schema.org/image&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22;}
};

// compact a document according to a particular context
// see: http://json-ld.org/spec/latest/json-ld/#compacted-document-form
jsonld.<span class="apidocCodeKeywordSpan">compact</span>(doc, context, function(err, compacted) {
console.log(JSON.stringify(compacted, null, 2));
/* Output:
{
  &#x22;@context&#x22;: {...},
  &#x22;name&#x22;: &#x22;Manu Sporny&#x22;,
  &#x22;homepage&#x22;: &#x22;http://manu.sporny.org/&#x22;,
  &#x22;image&#x22;: &#x22;http://manu.sporny.org/images/manu.png&#x22;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.promises.createNodeMap" id="apidoc.element.jsonld.promises.createNodeMap">
        function <span class="apidocSignatureSpan">jsonld.promises.</span>createNodeMap
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createNodeMap = function (input) {
  return promisify.apply(
    null, [jsonld.createNodeMap].concat(slice.call(arguments)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.promises.expand" id="apidoc.element.jsonld.promises.expand">
        function <span class="apidocSignatureSpan">jsonld.promises.</span>expand
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">expand = function (input) {
  if(arguments.length &#x3c; 1) {
    throw new TypeError(&#x27;Could not expand, too few arguments.&#x27;);
  }
  return promisify.apply(null, [jsonld.expand].concat(slice.call(arguments)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

// compact using URLs
jsonld.compact(&#x27;http://example.org/doc&#x27;, &#x27;http://example.org/context&#x27;, ...);

// expand a document, removing its context
// see: http://json-ld.org/spec/latest/json-ld/#expanded-document-form
jsonld.<span class="apidocCodeKeywordSpan">expand</span>(compacted, function(err, expanded) {
/* Output:
{
  &#x22;http://schema.org/name&#x22;: [{&#x22;@value&#x22;: &#x22;Manu Sporny&#x22;}],
  &#x22;http://schema.org/url&#x22;: [{&#x22;@id&#x22;: &#x22;http://manu.sporny.org/&#x22;}],
  &#x22;http://schema.org/image&#x22;: [{&#x22;@id&#x22;: &#x22;http://manu.sporny.org/images/manu.png&#x22;}]
}
*/
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.promises.flatten" id="apidoc.element.jsonld.promises.flatten">
        function <span class="apidocSignatureSpan">jsonld.promises.</span>flatten
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">flatten = function (input) {
  if(arguments.length &#x3c; 1) {
    throw new TypeError(&#x27;Could not flatten, too few arguments.&#x27;);
  }
  return promisify.apply(
    null, [jsonld.flatten].concat(slice.call(arguments)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

// expand using URLs
jsonld.expand(&#x27;http://example.org/doc&#x27;, ...);

// flatten a document
// see: http://json-ld.org/spec/latest/json-ld/#flattened-document-form
jsonld.<span class="apidocCodeKeywordSpan">flatten</span>(doc, function(err, flattened) {
// all deep-level trees flattened to the top-level
});

// frame a document
// see: http://json-ld.org/spec/latest/json-ld-framing/#introduction
jsonld.frame(doc, frame, function(err, framed) {
// document transformed into a particular tree structure per the given frame
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.promises.frame" id="apidoc.element.jsonld.promises.frame">
        function <span class="apidocSignatureSpan">jsonld.promises.</span>frame
        <span class="apidocSignatureSpan">(input, frame)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">frame = function (input, frame) {
  if(arguments.length &#x3c; 2) {
    throw new TypeError(&#x27;Could not frame, too few arguments.&#x27;);
  }
  return promisify.apply(null, [jsonld.frame].concat(slice.call(arguments)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// see: http://json-ld.org/spec/latest/json-ld/#flattened-document-form
jsonld.flatten(doc, function(err, flattened) {
// all deep-level trees flattened to the top-level
});

// frame a document
// see: http://json-ld.org/spec/latest/json-ld-framing/#introduction
jsonld.<span class="apidocCodeKeywordSpan">frame</span>(doc, frame, function(err, framed) {
// document transformed into a particular tree structure per the given frame
});

// normalize a document using the RDF Dataset Normalization Algorithm
// (URDNA2015), see: http://json-ld.github.io/normalization/spec/
jsonld.normalize(doc, {
algorithm: &#x27;URDNA2015&#x27;,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.promises.fromRDF" id="apidoc.element.jsonld.promises.fromRDF">
        function <span class="apidocSignatureSpan">jsonld.promises.</span>fromRDF
        <span class="apidocSignatureSpan">(dataset)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromRDF = function (dataset) {
  if(arguments.length &#x3c; 1) {
    throw new TypeError(&#x27;Could not convert from RDF, too few arguments.&#x27;);
  }
  return promisify.apply(
    null, [jsonld.fromRDF].concat(slice.call(arguments)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// serialize a document to N-Quads (RDF)
jsonld.toRDF(doc, {format: &#x27;application/nquads&#x27;}, function(err, nquads) {
// nquads is a string of nquads
});

// deserialize N-Quads (RDF) to JSON-LD
jsonld.<span class="apidocCodeKeywordSpan">fromRDF</span>(nquads, {format: &#x27;application/nquads&#x27;}, function(err, doc) {
// doc is JSON-LD
});

// register a custom async-callback-based RDF parser
jsonld.registerRDFParser = function(contentType, function(input, callback) {
// parse input to a jsonld.js RDF dataset object...
callback(err, dataset);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.promises.link" id="apidoc.element.jsonld.promises.link">
        function <span class="apidocSignatureSpan">jsonld.promises.</span>link
        <span class="apidocSignatureSpan">(input, ctx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">link = function (input, ctx) {
  if(arguments.length &#x3c; 2) {
    throw new TypeError(&#x27;Could not link, too few arguments.&#x27;);
  }
  return promisify.apply(
    null, [jsonld.link].concat(slice.call(arguments)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.promises.merge" id="apidoc.element.jsonld.promises.merge">
        function <span class="apidocSignatureSpan">jsonld.promises.</span>merge
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">merge = function (input) {
  return promisify.apply(
    null, [jsonld.merge].concat(slice.call(arguments)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.promises.normalize" id="apidoc.element.jsonld.promises.normalize">
        function <span class="apidocSignatureSpan">jsonld.promises.</span>normalize
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">normalize = function (input) {
  if(arguments.length &#x3c; 1) {
    throw new TypeError(&#x27;Could not normalize, too few arguments.&#x27;);
  }
  return promisify.apply(
    null, [jsonld.normalize].concat(slice.call(arguments)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// see: http://json-ld.org/spec/latest/json-ld-framing/#introduction
jsonld.frame(doc, frame, function(err, framed) {
  // document transformed into a particular tree structure per the given frame
});

// normalize a document using the RDF Dataset Normalization Algorithm
// (URDNA2015), see: http://json-ld.github.io/normalization/spec/
jsonld.<span class="apidocCodeKeywordSpan">normalize</span>(doc, {
  algorithm: &#x27;URDNA2015&#x27;,
  format: &#x27;application/nquads&#x27;
}, function(err, normalized) {
  // normalized is a string that is a canonical representation of the document
  // that can be used for hashing, comparison, etc.
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.promises.objectify" id="apidoc.element.jsonld.promises.objectify">
        function <span class="apidocSignatureSpan">jsonld.promises.</span>objectify
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">objectify = function (input) {
  return promisify.apply(
    null, [jsonld.objectify].concat(slice.call(arguments)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonld.promises.toRDF" id="apidoc.element.jsonld.promises.toRDF">
        function <span class="apidocSignatureSpan">jsonld.promises.</span>toRDF
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toRDF = function (input) {
  if(arguments.length &#x3c; 1) {
    throw new TypeError(&#x27;Could not convert to RDF, too few arguments.&#x27;);
  }
  return promisify.apply(null, [jsonld.toRDF].concat(slice.call(arguments)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  format: &#x27;application/nquads&#x27;
}, function(err, normalized) {
  // normalized is a string that is a canonical representation of the document
  // that can be used for hashing, comparison, etc.
});

// serialize a document to N-Quads (RDF)
jsonld.<span class="apidocCodeKeywordSpan">toRDF</span>(doc, {format: &#x27;application/nquads&#x27;}, function(err, nquads) {
  // nquads is a string of nquads
});

// deserialize N-Quads (RDF) to JSON-LD
jsonld.fromRDF(nquads, {format: &#x27;application/nquads&#x27;}, function(err, doc) {
  // doc is JSON-LD
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonld.url" id="apidoc.module.jsonld.url">module jsonld.url</a></h1>


    <h2>
        <a href="#apidoc.element.jsonld.url.parse" id="apidoc.element.jsonld.url.parse">
        function <span class="apidocSignatureSpan">jsonld.url.</span>parse
        <span class="apidocSignatureSpan">(str, parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (str, parser) {
  var parsed = {};
  var o = jsonld.url.parsers[parser || &#x27;full&#x27;];
  var m = o.regex.exec(str);
  var i = o.keys.length;
  while(i--) {
    parsed[o.keys[i]] = (m[i] === undefined) ? null : m[i];
  }
  parsed.normalizedPath = _removeDotSegments(parsed.path, !!parsed.authority);
  return parsed;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
